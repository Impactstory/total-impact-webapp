<div class="settings-header">
  <h1>Email</h1>
  <p>Change email address used for login and contact</p>
</div>

<form novalidate name="userEmailForm" class="form-horizontal custom-url" ng-submit="onSave()" ng-controller="emailSettingsCtrl">
  <div class="form-group change-email"
  ng-model="user.email"
  ng-class="{ 'has-error':  userEmailForm.email.$invalid && userEmailForm.email.$dirty && !loading['user.email'],
                    'has-success': userEmailForm.email.$valid && userEmailForm.email.$dirty && !loading['user.email']}">

    <div class="controls input-group col-lg-7">
      <span class="input-group-addon"><i class="icon-envelope-alt"></i></span>
      <input ng-modesave-bul="user.email"
      name="email"
      class="form-control"
      required
      data-require-unique
      />

    </div>

    <spinner loading="user.email" msg="Checking"></spinner>

    <div class="help-block error"
    ng-show="userEmailForm.email.$error.requireUnique
            && userEmailForm.email.$dirty
            && !loading.user.email">
    That email address is already in use.
    </div>
    <div class="help-block success"
    ng-show="userEmailForm.email.$valid
            && userEmailForm.email.$dirty
            && !loading['user.email']">
    Looks good!
    </div>
    <div class="help-block"
    ng-show="userEmailForm.email.$pristine
            && !loading['user.email']">
    This is your currently registered email.
    </div>

  </div>

  <div class="form-group submit">
  <div class=" col-lg-10">
    <save-buttons valid="userEmailForm.$valid"></save-buttons>
  </div>
  </div>

</form>
