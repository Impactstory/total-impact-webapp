!function($){$(function(){"use strict";$.support.transition=(function(){var transitionEnd=(function(){var el=document.createElement('bootstrap'),transEndEventNames={'WebkitTransition':'webkitTransitionEnd','MozTransition':'transitionend','OTransition':'oTransitionEnd otransitionend','transition':'transitionend'},name
for(name in transEndEventNames){if(el.style[name]!==undefined){return transEndEventNames[name]}}}())
return transitionEnd&&{end:transitionEnd}})()})}(window.jQuery);!function($){"use strict";var Modal=function(element,options){this.options=options
this.$element=$(element).delegate('[data-dismiss="modal"]','click.dismiss.modal',$.proxy(this.hide,this))
this.options.remote&&this.$element.find('.modal-body').load(this.options.remote)}
Modal.prototype={constructor:Modal,toggle:function(){return this[!this.isShown?'show':'hide']()},show:function(){var that=this,e=$.Event('show')
this.$element.trigger(e)
if(this.isShown||e.isDefaultPrevented())return
$('body').addClass('modal-open')
this.isShown=true
this.escape()
this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass('fade')
if(!that.$element.parent().length){that.$element.appendTo(document.body)
}
that.$element.show()
if(transition){that.$element[0].offsetWidth}
that.$element.addClass('in').attr('aria-hidden',false).focus()
that.enforceFocus()
transition?that.$element.one($.support.transition.end,function(){that.$element.trigger('shown')}):that.$element.trigger('shown')})},hide:function(e){e&&e.preventDefault()
var that=this
e=$.Event('hide')
this.$element.trigger(e)
if(!this.isShown||e.isDefaultPrevented())return
this.isShown=false
$('body').removeClass('modal-open')
this.escape()
$(document).off('focusin.modal')
this.$element.removeClass('in').attr('aria-hidden',true)
$.support.transition&&this.$element.hasClass('fade')?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var that=this
$(document).on('focusin.modal',function(e){if(that.$element[0]!==e.target&&!that.$element.has(e.target).length){that.$element.focus()}})},escape:function(){var that=this
if(this.isShown&&this.options.keyboard){this.$element.on('keyup.dismiss.modal',function(e){e.which==27&&that.hide()})}else if(!this.isShown){this.$element.off('keyup.dismiss.modal')}},hideWithTransition:function(){var that=this,timeout=setTimeout(function(){that.$element.off($.support.transition.end)
that.hideModal()},500)
this.$element.one($.support.transition.end,function(){clearTimeout(timeout)
that.hideModal()})},hideModal:function(that){this.$element.hide().trigger('hidden')
this.backdrop()},removeBackdrop:function(){this.$backdrop.remove()
this.$backdrop=null},backdrop:function(callback){var that=this,animate=this.$element.hasClass('fade')?'fade':''
if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate
this.$backdrop=$('<div class="modal-backdrop '+animate+'" />').appendTo(document.body)
if(this.options.backdrop!='static'){this.$backdrop.click($.proxy(this.hide,this))}
if(doAnimate)this.$backdrop[0].offsetWidth this.$backdrop.addClass('in')
doAnimate?this.$backdrop.one($.support.transition.end,callback):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass('in')
$.support.transition&&this.$element.hasClass('fade')?this.$backdrop.one($.support.transition.end,$.proxy(this.removeBackdrop,this)):this.removeBackdrop()}else if(callback){callback()}}}
$.fn.modal=function(option){return this.each(function(){var $this=$(this),data=$this.data('modal'),options=$.extend({},$.fn.modal.defaults,$this.data(),typeof option=='object'&&option)
if(!data)$this.data('modal',(data=new Modal(this,options)))
if(typeof option=='string')data[option]()
else if(options.show)data.show()})}
$.fn.modal.defaults={backdrop:true,keyboard:true,show:true}
$.fn.modal.Constructor=Modal
$(function(){$('body').on('click.modal.data-api','[data-toggle="modal"]',function(e){var $this=$(this),href=$this.attr('href'),$target=$($this.attr('data-target')||(href&&href.replace(/.*(?=#[^\s]+$)/,'')))
,option=$target.data('modal')?'toggle':$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data())
e.preventDefault()
$target.modal(option).one('hide',function(){$this.focus()})})})}(window.jQuery);!function($){"use strict";var toggle='[data-toggle=dropdown]',Dropdown=function(element){var $el=$(element).on('click.dropdown.data-api',this.toggle)
$('html').on('click.dropdown.data-api',function(){$el.parent().removeClass('open')})}
Dropdown.prototype={constructor:Dropdown,toggle:function(e){var $this=$(this),$parent,isActive
if($this.is('.disabled, :disabled'))return
$parent=getParent($this)
isActive=$parent.hasClass('open')
clearMenus()
if(!isActive){$parent.toggleClass('open')
$this.focus()}
return false},keydown:function(e){var $this,$items,$active,$parent,isActive,index
if(!/(38|40|27)/.test(e.keyCode))return
$this=$(this)
e.preventDefault()
e.stopPropagation()
if($this.is('.disabled, :disabled'))return
$parent=getParent($this)
isActive=$parent.hasClass('open')
if(!isActive||(isActive&&e.keyCode==27))return $this.click()
$items=$('[role=menu] li:not(.divider) a',$parent)
if(!$items.length)return
index=$items.index($items.filter(':focus'))
if(e.keyCode==38&&index>0)index-- if(e.keyCode==40&&index<$items.length-1)index++ if(!~index)index=0
$items.eq(index).focus()}}
function clearMenus(){getParent($(toggle)).removeClass('open')}
function getParent($this){var selector=$this.attr('data-target'),$parent
if(!selector){selector=$this.attr('href')
selector=selector&&/#/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,'')
}
$parent=$(selector)
$parent.length||($parent=$this.parent())
return $parent}
$.fn.dropdown=function(option){return this.each(function(){var $this=$(this),data=$this.data('dropdown')
if(!data)$this.data('dropdown',(data=new Dropdown(this)))
if(typeof option=='string')data[option].call($this)})}
$.fn.dropdown.Constructor=Dropdown
$(function(){$('html').on('click.dropdown.data-api touchstart.dropdown.data-api',clearMenus)
$('body').on('click.dropdown touchstart.dropdown.data-api','.dropdown form',function(e){e.stopPropagation()}).on('click.dropdown.data-api touchstart.dropdown.data-api',toggle,Dropdown.prototype.toggle).on('keydown.dropdown.data-api touchstart.dropdown.data-api',toggle+', [role=menu]',Dropdown.prototype.keydown)})}(window.jQuery);!function($){"use strict";function ScrollSpy(element,options){var process=$.proxy(this.process,this),$element=$(element).is('body')?$(window):$(element),href
this.options=$.extend({},$.fn.scrollspy.defaults,options)
this.$scrollElement=$element.on('scroll.scroll-spy.data-api',process)
this.selector=(this.options.target||((href=$(element).attr('href'))&&href.replace(/.*(?=#[^\s]+$)/,''))
||'')+' .nav li > a'
this.$body=$('body')
this.refresh()
this.process()}
ScrollSpy.prototype={constructor:ScrollSpy,refresh:function(){var self=this,$targets
this.offsets=$([])
this.targets=$([])
$targets=this.$body.find(this.selector).map(function(){var $el=$(this),href=$el.data('target')||$el.attr('href'),$href=/^#\w/.test(href)&&$(href)
return($href&&$href.length&&[[$href.position().top,href]])||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){self.offsets.push(this[0])
self.targets.push(this[1])})},process:function(){var scrollTop=this.$scrollElement.scrollTop()+this.options.offset,scrollHeight=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,maxScroll=scrollHeight-this.$scrollElement.height(),offsets=this.offsets,targets=this.targets,activeTarget=this.activeTarget,i
if(scrollTop>=maxScroll){return activeTarget!=(i=targets.last()[0])&&this.activate(i)}
for(i=offsets.length;i--;){activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(!offsets[i+1]||scrollTop<=offsets[i+1])&&this.activate(targets[i])}},activate:function(target){var active,selector
this.activeTarget=target
$(this.selector).parent('.active').removeClass('active')
selector=this.selector
+'[data-target="'+target+'"],'
+this.selector+'[href="'+target+'"]'
active=$(selector).parent('li').addClass('active')
if(active.parent('.dropdown-menu').length){active=active.closest('li.dropdown').addClass('active')}
active.trigger('activate')}}
$.fn.scrollspy=function(option){return this.each(function(){var $this=$(this),data=$this.data('scrollspy'),options=typeof option=='object'&&option
if(!data)$this.data('scrollspy',(data=new ScrollSpy(this,options)))
if(typeof option=='string')data[option]()})}
$.fn.scrollspy.Constructor=ScrollSpy
$.fn.scrollspy.defaults={offset:10}
$(window).on('load',function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this)
$spy.scrollspy($spy.data())})})}(window.jQuery);!function($){"use strict";var Tab=function(element){this.element=$(element)}
Tab.prototype={constructor:Tab,show:function(){var $this=this.element,$ul=$this.closest('ul:not(.dropdown-menu)'),selector=$this.attr('data-target'),previous,$target,e
if(!selector){selector=$this.attr('href')
selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,'')
}
if($this.parent('li').hasClass('active'))return
previous=$ul.find('.active a').last()[0]
e=$.Event('show',{relatedTarget:previous})
$this.trigger(e)
if(e.isDefaultPrevented())return
$target=$(selector)
this.activate($this.parent('li'),$ul)
this.activate($target,$target.parent(),function(){$this.trigger({type:'shown',relatedTarget:previous})})},activate:function(element,container,callback){var $active=container.find('> .active'),transition=callback&&$.support.transition&&$active.hasClass('fade')
function next(){$active.removeClass('active').find('> .dropdown-menu > .active').removeClass('active')
element.addClass('active')
if(transition){element[0].offsetWidth element.addClass('in')}else{element.removeClass('fade')}
if(element.parent('.dropdown-menu')){element.closest('li.dropdown').addClass('active')}
callback&&callback()}
transition?$active.one($.support.transition.end,next):next()
$active.removeClass('in')}}
$.fn.tab=function(option){return this.each(function(){var $this=$(this),data=$this.data('tab')
if(!data)$this.data('tab',(data=new Tab(this)))
if(typeof option=='string')data[option]()})}
$.fn.tab.Constructor=Tab
$(function(){$('body').on('click.tab.data-api','[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault()
$(this).tab('show')})})}(window.jQuery);!function($){"use strict";var Tooltip=function(element,options){this.init('tooltip',element,options)}
Tooltip.prototype={constructor:Tooltip,init:function(type,element,options){var eventIn,eventOut
this.type=type
this.$element=$(element)
this.options=this.getOptions(options)
this.enabled=true
if(this.options.trigger=='click'){this.$element.on('click.'+this.type,this.options.selector,$.proxy(this.toggle,this))}else if(this.options.trigger!='manual'){eventIn=this.options.trigger=='hover'?'mouseenter':'focus'
eventOut=this.options.trigger=='hover'?'mouseleave':'blur'
this.$element.on(eventIn+'.'+this.type,this.options.selector,$.proxy(this.enter,this))
this.$element.on(eventOut+'.'+this.type,this.options.selector,$.proxy(this.leave,this))}
this.options.selector?(this._options=$.extend({},this.options,{trigger:'manual',selector:''})):this.fixTitle()},getOptions:function(options){options=$.extend({},$.fn[this.type].defaults,options,this.$element.data())
if(options.delay&&typeof options.delay=='number'){options.delay={show:options.delay,hide:options.delay}}
return options},enter:function(e){var self=$(e.currentTarget)[this.type](this._options).data(this.type)
if(!self.options.delay||!self.options.delay.show)return self.show()
clearTimeout(this.timeout)
self.hoverState='in'
this.timeout=setTimeout(function(){if(self.hoverState=='in')self.show()},self.options.delay.show)},leave:function(e){var self=$(e.currentTarget)[this.type](this._options).data(this.type)
if(this.timeout)clearTimeout(this.timeout)
if(!self.options.delay||!self.options.delay.hide)return self.hide()
self.hoverState='out'
this.timeout=setTimeout(function(){if(self.hoverState=='out')self.hide()},self.options.delay.hide)},show:function(){var $tip,inside,pos,actualWidth,actualHeight,placement,tp
if(this.hasContent()&&this.enabled){$tip=this.tip()
this.setContent()
if(this.options.animation){$tip.addClass('fade')}
placement=typeof this.options.placement=='function'?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement
inside=/in/.test(placement)
$tip.remove().css({top:0,left:0,display:'block'}).appendTo(inside?this.$element:document.body)
pos=this.getPosition(inside)
actualWidth=$tip[0].offsetWidth
actualHeight=$tip[0].offsetHeight
switch(inside?placement.split(' ')[1]:placement){case'bottom':tp={top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}
break
case'top':tp={top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}
break
case'left':tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}
break
case'right':tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}
break}
$tip.css(tp).addClass(placement).addClass('in')}},setContent:function(){var $tip=this.tip(),title=this.getTitle()
$tip.find('.tooltip-inner')[this.options.html?'html':'text'](title)
$tip.removeClass('fade in top bottom left right')},hide:function(){var that=this,$tip=this.tip()
$tip.removeClass('in')
function removeWithAnimation(){var timeout=setTimeout(function(){$tip.off($.support.transition.end).remove()},500)
$tip.one($.support.transition.end,function(){clearTimeout(timeout)
$tip.remove()})}
$.support.transition&&this.$tip.hasClass('fade')?removeWithAnimation():$tip.remove()
return this},fixTitle:function(){var $e=this.$element
if($e.attr('title')||typeof($e.attr('data-original-title'))!='string'){$e.attr('data-original-title',$e.attr('title')||'').removeAttr('title')}},hasContent:function(){return this.getTitle()},getPosition:function(inside){return $.extend({},(inside?{top:0,left:0}:this.$element.offset()),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var title,$e=this.$element,o=this.options
title=$e.attr('data-original-title')||(typeof o.title=='function'?o.title.call($e[0]):o.title)
return title},tip:function(){return this.$tip=this.$tip||$(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide()
this.$element=null
this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass('in')?'hide':'show']()},destroy:function(){this.hide().$element.off('.'+this.type).removeData(this.type)}}
$.fn.tooltip=function(option){return this.each(function(){var $this=$(this),data=$this.data('tooltip'),options=typeof option=='object'&&option
if(!data)$this.data('tooltip',(data=new Tooltip(this,options)))
if(typeof option=='string')data[option]()})}
$.fn.tooltip.Constructor=Tooltip
$.fn.tooltip.defaults={animation:true,placement:'top',selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:'hover',title:'',delay:0,html:true}}(window.jQuery);!function($){"use strict";var Popover=function(element,options){this.init('popover',element,options)}
Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype,{constructor:Popover,setContent:function(){var $tip=this.tip(),title=this.getTitle(),content=this.getContent()
$tip.find('.popover-title')[this.options.html?'html':'text'](title)
$tip.find('.popover-content > *')[this.options.html?'html':'text'](content)
$tip.removeClass('fade top bottom left right in')},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var content,$e=this.$element,o=this.options
content=$e.attr('data-content')||(typeof o.content=='function'?o.content.call($e[0]):o.content)
return content},tip:function(){if(!this.$tip){this.$tip=$(this.options.template)}
return this.$tip},destroy:function(){this.hide().$element.off('.'+this.type).removeData(this.type)}})
$.fn.popover=function(option){return this.each(function(){var $this=$(this),data=$this.data('popover'),options=typeof option=='object'&&option
if(!data)$this.data('popover',(data=new Popover(this,options)))
if(typeof option=='string')data[option]()})}
$.fn.popover.Constructor=Popover
$.fn.popover.defaults=$.extend({},$.fn.tooltip.defaults,{placement:'right',trigger:'click',content:'',template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery);!function($){"use strict";var Affix=function(element,options){this.options=$.extend({},$.fn.affix.defaults,options)
this.$window=$(window).on('scroll.affix.data-api',$.proxy(this.checkPosition,this))
this.$element=$(element)
this.checkPosition()}
Affix.prototype.checkPosition=function(){if(!this.$element.is(':visible'))return
var scrollHeight=$(document).height(),scrollTop=this.$window.scrollTop(),position=this.$element.offset(),offset=this.options.offset,offsetBottom=offset.bottom,offsetTop=offset.top,reset='affix affix-top affix-bottom',affix
if(typeof offset!='object')offsetBottom=offsetTop=offset
if(typeof offsetTop=='function')offsetTop=offset.top()
if(typeof offsetBottom=='function')offsetBottom=offset.bottom()
affix=this.unpin!=null&&(scrollTop+this.unpin<=position.top)?false:offsetBottom!=null&&(position.top+this.$element.height()>=scrollHeight-offsetBottom)?'bottom':offsetTop!=null&&scrollTop<=offsetTop?'top':false
if(this.affixed===affix)return
this.affixed=affix
this.unpin=affix=='bottom'?position.top-scrollTop:null
this.$element.removeClass(reset).addClass('affix'+(affix?'-'+affix:''))}
$.fn.affix=function(option){return this.each(function(){var $this=$(this),data=$this.data('affix'),options=typeof option=='object'&&option
if(!data)$this.data('affix',(data=new Affix(this,options)))
if(typeof option=='string')data[option]()})}
$.fn.affix.Constructor=Affix
$.fn.affix.defaults={offset:0}
$(window).on('load',function(){$('[data-spy="affix"]').each(function(){var $spy=$(this),data=$spy.data()
data.offset=data.offset||{}
data.offsetBottom&&(data.offset.bottom=data.offsetBottom)
data.offsetTop&&(data.offset.top=data.offsetTop)
$spy.affix(data)})})}(window.jQuery);!function($){"use strict";var dismiss='[data-dismiss="alert"]',Alert=function(el){$(el).on('click',dismiss,this.close)}
Alert.prototype.close=function(e){var $this=$(this),selector=$this.attr('data-target'),$parent
if(!selector){selector=$this.attr('href')
selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,'')
}
$parent=$(selector)
e&&e.preventDefault()
$parent.length||($parent=$this.hasClass('alert')?$this:$this.parent())
$parent.trigger(e=$.Event('close'))
if(e.isDefaultPrevented())return
$parent.removeClass('in')
function removeElement(){$parent.trigger('closed').remove()}
$.support.transition&&$parent.hasClass('fade')?$parent.on($.support.transition.end,removeElement):removeElement()}
$.fn.alert=function(option){return this.each(function(){var $this=$(this),data=$this.data('alert')
if(!data)$this.data('alert',(data=new Alert(this)))
if(typeof option=='string')data[option].call($this)})}
$.fn.alert.Constructor=Alert
$(function(){$('body').on('click.alert.data-api',dismiss,Alert.prototype.close)})}(window.jQuery);!function($){"use strict";var Button=function(element,options){this.$element=$(element)
this.options=$.extend({},$.fn.button.defaults,options)}
Button.prototype.setState=function(state){var d='disabled',$el=this.$element,data=$el.data(),val=$el.is('input')?'val':'html'
state=state+'Text'
data.resetText||$el.data('resetText',$el[val]())
$el[val](data[state]||this.options[state]) 
setTimeout(function(){state=='loadingText'?$el.addClass(d).attr(d,d):$el.removeClass(d).removeAttr(d)},0)}
Button.prototype.toggle=function(){var $parent=this.$element.closest('[data-toggle="buttons-radio"]')
$parent&&$parent.find('.active').removeClass('active')
this.$element.toggleClass('active')}
$.fn.button=function(option){return this.each(function(){var $this=$(this),data=$this.data('button'),options=typeof option=='object'&&option
if(!data)$this.data('button',(data=new Button(this,options)))
if(option=='toggle')data.toggle()
else if(option)data.setState(option)})}
$.fn.button.defaults={loadingText:'loading...'}
$.fn.button.Constructor=Button
$(function(){$('body').on('click.button.data-api','[data-toggle^=button]',function(e){var $btn=$(e.target)
if(!$btn.hasClass('btn'))$btn=$btn.closest('.btn')
$btn.button('toggle')})})}(window.jQuery);!function($){"use strict";var Collapse=function(element,options){this.$element=$(element)
this.options=$.extend({},$.fn.collapse.defaults,options)
if(this.options.parent){this.$parent=$(this.options.parent)}
this.options.toggle&&this.toggle()}
Collapse.prototype={constructor:Collapse,dimension:function(){var hasWidth=this.$element.hasClass('width')
return hasWidth?'width':'height'},show:function(){var dimension,scroll,actives,hasData
if(this.transitioning)return
dimension=this.dimension()
scroll=$.camelCase(['scroll',dimension].join('-'))
actives=this.$parent&&this.$parent.find('> .accordion-group > .in')
if(actives&&actives.length){hasData=actives.data('collapse')
if(hasData&&hasData.transitioning)return
actives.collapse('hide')
hasData||actives.data('collapse',null)}
this.$element[dimension](0)
this.transition('addClass',$.Event('show'),'shown')
$.support.transition&&this.$element[dimension](this.$element[0][scroll])},hide:function(){var dimension
if(this.transitioning)return
dimension=this.dimension()
this.reset(this.$element[dimension]())
this.transition('removeClass',$.Event('hide'),'hidden')
this.$element[dimension](0)},reset:function(size){var dimension=this.dimension()
this.$element.removeClass('collapse')
[dimension](size||'auto')
[0].offsetWidth
this.$element[size!==null?'addClass':'removeClass']('collapse')
return this},transition:function(method,startEvent,completeEvent){var that=this,complete=function(){if(startEvent.type=='show')that.reset()
that.transitioning=0
that.$element.trigger(completeEvent)}
this.$element.trigger(startEvent)
if(startEvent.isDefaultPrevented())return
this.transitioning=1
this.$element[method]('in')
$.support.transition&&this.$element.hasClass('collapse')?this.$element.one($.support.transition.end,complete):complete()},toggle:function(){this[this.$element.hasClass('in')?'hide':'show']()}}
$.fn.collapse=function(option){return this.each(function(){var $this=$(this),data=$this.data('collapse'),options=typeof option=='object'&&option
if(!data)$this.data('collapse',(data=new Collapse(this,options)))
if(typeof option=='string')data[option]()})}
$.fn.collapse.defaults={toggle:true}
$.fn.collapse.Constructor=Collapse
$(function(){$('body').on('click.collapse.data-api','[data-toggle=collapse]',function(e){var $this=$(this),href,target=$this.attr('data-target')||e.preventDefault()||(href=$this.attr('href'))&&href.replace(/.*(?=#[^\s]+$)/,'')
,option=$(target).data('collapse')?'toggle':$this.data()
$this[$(target).hasClass('in')?'addClass':'removeClass']('collapsed')
$(target).collapse(option)})})}(window.jQuery);!function($){"use strict";var Carousel=function(element,options){this.$element=$(element)
this.options=options
this.options.slide&&this.slide(this.options.slide)
this.options.pause=='hover'&&this.$element.on('mouseenter',$.proxy(this.pause,this)).on('mouseleave',$.proxy(this.cycle,this))}
Carousel.prototype={cycle:function(e){if(!e)this.paused=false
this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval))
return this},to:function(pos){var $active=this.$element.find('.item.active'),children=$active.parent().children(),activePos=children.index($active),that=this
if(pos>(children.length-1)||pos<0)return
if(this.sliding){return this.$element.one('slid',function(){that.to(pos)})}
if(activePos==pos){return this.pause().cycle()}
return this.slide(pos>activePos?'next':'prev',$(children[pos]))},pause:function(e){if(!e)this.paused=true
if(this.$element.find('.next, .prev').length&&$.support.transition.end){this.$element.trigger($.support.transition.end)
this.cycle()}
clearInterval(this.interval)
this.interval=null
return this},next:function(){if(this.sliding)return
return this.slide('next')},prev:function(){if(this.sliding)return
return this.slide('prev')},slide:function(type,next){var $active=this.$element.find('.item.active'),$next=next||$active[type](),isCycling=this.interval,direction=type=='next'?'left':'right',fallback=type=='next'?'first':'last',that=this,e=$.Event('slide',{relatedTarget:$next[0]})
this.sliding=true
isCycling&&this.pause()
$next=$next.length?$next:this.$element.find('.item')[fallback]()
if($next.hasClass('active'))return
if($.support.transition&&this.$element.hasClass('slide')){this.$element.trigger(e)
if(e.isDefaultPrevented())return
$next.addClass(type)
$next[0].offsetWidth $active.addClass(direction)
$next.addClass(direction)
this.$element.one($.support.transition.end,function(){$next.removeClass([type,direction].join(' ')).addClass('active')
$active.removeClass(['active',direction].join(' '))
that.sliding=false
setTimeout(function(){that.$element.trigger('slid')},0)})}else{this.$element.trigger(e)
if(e.isDefaultPrevented())return
$active.removeClass('active')
$next.addClass('active')
this.sliding=false
this.$element.trigger('slid')}
isCycling&&this.cycle()
return this}}
$.fn.carousel=function(option){return this.each(function(){var $this=$(this),data=$this.data('carousel'),options=$.extend({},$.fn.carousel.defaults,typeof option=='object'&&option),action=typeof option=='string'?option:options.slide
if(!data)$this.data('carousel',(data=new Carousel(this,options)))
if(typeof option=='number')data.to(option)
else if(action)data[action]()
else if(options.interval)data.cycle()})}
$.fn.carousel.defaults={interval:5000,pause:'hover'}
$.fn.carousel.Constructor=Carousel
$(function(){$('body').on('click.carousel.data-api','[data-slide]',function(e){var $this=$(this),href,$target=$($this.attr('data-target')||(href=$this.attr('href'))&&href.replace(/.*(?=#[^\s]+$)/,''))
,options=!$target.data('modal')&&$.extend({},$target.data(),$this.data())
$target.carousel(options)
e.preventDefault()})})}(window.jQuery);!function($){"use strict";var Typeahead=function(element,options){this.$element=$(element)
this.options=$.extend({},$.fn.typeahead.defaults,options)
this.matcher=this.options.matcher||this.matcher
this.sorter=this.options.sorter||this.sorter
this.highlighter=this.options.highlighter||this.highlighter
this.updater=this.options.updater||this.updater
this.$menu=$(this.options.menu).appendTo('body')
this.source=this.options.source
this.shown=false
this.listen()}
Typeahead.prototype={constructor:Typeahead,select:function(){var val=this.$menu.find('.active').attr('data-value')
this.$element.val(this.updater(val)).change()
return this.hide()},updater:function(item){return item},show:function(){var pos=$.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight})
this.$menu.css({top:pos.top+pos.height,left:pos.left})
this.$menu.show()
this.shown=true
return this},hide:function(){this.$menu.hide()
this.shown=false
return this},lookup:function(event){var items
this.query=this.$element.val()
if(!this.query||this.query.length<this.options.minLength){return this.shown?this.hide():this}
items=$.isFunction(this.source)?this.source(this.query,$.proxy(this.process,this)):this.source
return items?this.process(items):this},process:function(items){var that=this
items=$.grep(items,function(item){return that.matcher(item)})
items=this.sorter(items)
if(!items.length){return this.shown?this.hide():this}
return this.render(items.slice(0,this.options.items)).show()},matcher:function(item){return~item.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(items){var beginswith=[],caseSensitive=[],caseInsensitive=[],item
while(item=items.shift()){if(!item.toLowerCase().indexOf(this.query.toLowerCase()))beginswith.push(item)
else if(~item.indexOf(this.query))caseSensitive.push(item)
else caseInsensitive.push(item)}
return beginswith.concat(caseSensitive,caseInsensitive)},highlighter:function(item){var query=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,'\\$&')
return item.replace(new RegExp('('+query+')','ig'),function($1,match){return'<strong>'+match+'</strong>'})},render:function(items){var that=this
items=$(items).map(function(i,item){i=$(that.options.item).attr('data-value',item)
i.find('a').html(that.highlighter(item))
return i[0]})
items.first().addClass('active')
this.$menu.html(items)
return this},next:function(event){var active=this.$menu.find('.active').removeClass('active'),next=active.next()
if(!next.length){next=$(this.$menu.find('li')[0])}
next.addClass('active')},prev:function(event){var active=this.$menu.find('.active').removeClass('active'),prev=active.prev()
if(!prev.length){prev=this.$menu.find('li').last()}
prev.addClass('active')},listen:function(){this.$element.on('blur',$.proxy(this.blur,this)).on('keypress',$.proxy(this.keypress,this)).on('keyup',$.proxy(this.keyup,this))
if($.browser.chrome||$.browser.webkit||$.browser.msie){this.$element.on('keydown',$.proxy(this.keydown,this))}
this.$menu.on('click',$.proxy(this.click,this)).on('mouseenter','li',$.proxy(this.mouseenter,this))},move:function(e){if(!this.shown)return
switch(e.keyCode){case 9: case 13: case 27: e.preventDefault()
break
case 38: e.preventDefault()
this.prev()
break
case 40: e.preventDefault()
this.next()
break}
e.stopPropagation()},keydown:function(e){this.suppressKeyPressRepeat=!~$.inArray(e.keyCode,[40,38,9,13,27])
this.move(e)},keypress:function(e){if(this.suppressKeyPressRepeat)return
this.move(e)},keyup:function(e){switch(e.keyCode){case 40: case 38: break
case 9: case 13: if(!this.shown)return
this.select()
break
case 27: if(!this.shown)return
this.hide()
break
default:this.lookup()}
e.stopPropagation()
e.preventDefault()},blur:function(e){var that=this
setTimeout(function(){that.hide()},150)},click:function(e){e.stopPropagation()
e.preventDefault()
this.select()},mouseenter:function(e){this.$menu.find('.active').removeClass('active')
$(e.currentTarget).addClass('active')}}
$.fn.typeahead=function(option){return this.each(function(){var $this=$(this),data=$this.data('typeahead'),options=typeof option=='object'&&option
if(!data)$this.data('typeahead',(data=new Typeahead(this,options)))
if(typeof option=='string')data[option]()})}
$.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1}
$.fn.typeahead.Constructor=Typeahead
$(function(){$('body').on('focus.typeahead.data-api','[data-provide="typeahead"]',function(e){var $this=$(this)
if($this.data('typeahead'))return
e.preventDefault()
$this.typeahead($this.data())})})}(window.jQuery);!function($){"use strict"
var Clickover=function(element,options){ this.cinit('clickover',element,options);}
Clickover.prototype=$.extend({},$.fn.popover.Constructor.prototype,{constructor:Clickover,cinit:function(type,element,options){this.attr={}; this.attr.me=((Math.random()*10)+"").replace(/\D/g,'');this.attr.click_event_ns="click."+this.attr.me+" touchstart."+this.attr.me;if(!options)options={};options.trigger='manual'; this.init(type,element,options); this.$element.on('click',this.options.selector,$.proxy(this.clickery,this));},clickery:function(e){ if(e){e.preventDefault();e.stopPropagation();} 
this.options.width&&this.tip().find('.popover-inner').width(this.options.width);this.options.height&&this.tip().find('.popover-inner').height(this.options.height); this.options.tip_id&&this.tip().attr('id',this.options.tip_id); this.options.class_name&&this.tip().addClass(this.options.class_name); this.toggle(); if(this.isShown()){var that=this; this.options.global_close&&$('body').on(this.attr.click_event_ns,function(e){if(!that.tip().has(e.target).length){that.clickery();}});this.options.esc_close&&$(document).bind('keyup.clickery',function(e){if(e.keyCode==27){that.clickery();}
return;});!this.options.allow_multiple&&$('[data-clickover-open=1]').each(function(){$(this).data('clickover')&&$(this).data('clickover').clickery();}); this.$element.attr('data-clickover-open',1); this.tip().on('click','[data-dismiss="clickover"]',$.proxy(this.clickery,this)); if(this.options.auto_close&&this.options.auto_close>0){this.attr.tid=setTimeout($.proxy(this.clickery,this),this.options.auto_close);} 
typeof this.options.onShown=='function'&&this.options.onShown.call(this);this.$element.trigger('shown');}
else{this.$element.removeAttr('data-clickover-open');this.options.esc_close&&$(document).unbind('keyup.clickery');$('body').off(this.attr.click_event_ns);if(typeof this.attr.tid=="number"){clearTimeout(this.attr.tid);delete this.attr.tid;} 
typeof this.options.onHidden=='function'&&this.options.onHidden.call(this);this.$element.trigger('hidden');}},isShown:function(){return this.tip().hasClass('in');},resetPosition:function(){var $tip,inside,pos,actualWidth,actualHeight,placement,tp
if(this.hasContent()&&this.enabled){$tip=this.tip()
placement=typeof this.options.placement=='function'?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement
inside=/in/.test(placement)
pos=this.getPosition(inside)
actualWidth=$tip[0].offsetWidth
actualHeight=$tip[0].offsetHeight
switch(inside?placement.split(' ')[1]:placement){case'bottom':tp={top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}
break
case'top':tp={top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}
break
case'left':tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}
break
case'right':tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}
break}
$tip.css(tp)}},debughide:function(){var dt=new Date().toString();console.log(dt+": clickover hide");this.hide();}})
$.fn.clickover=function(option){return this.each(function(){var $this=$(this),data=$this.data('clickover'),options=typeof option=='object'&&option
if(!data)$this.data('clickover',(data=new Clickover(this,options)))
if(typeof option=='string')data[option]()})}
$.fn.clickover.Constructor=Clickover 
$.fn.clickover.defaults=$.extend({},$.fn.popover.defaults,{trigger:'manual',auto_close:0,global_close:1,esc_close:1,onShown:null,onHidden:null,width:null,height:null,tip_id:null,class_name:'clickover',allow_multiple:0})}(window.jQuery);var q=null;window.PR_SHOULD_USE_CONTINUATION=!0;(function(){function L(a){function m(a){var f=a.charCodeAt(0);if(f!==92)return f;var b=a.charAt(1);return(f=r[b])?f:"0"<=b&&b<="7"?parseInt(a.substring(1),8):b==="u"||b==="x"?parseInt(a.substring(2),16):a.charCodeAt(1)}function e(a){if(a<32)return(a<16?"\\x0":"\\x")+a.toString(16);a=String.fromCharCode(a);if(a==="\\"||a==="-"||a==="["||a==="]")a="\\"+a;return a}function h(a){for(var f=a.substring(1,a.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),a=[],b=[],o=f[0]==="^",c=o?1:0,i=f.length;c<i;++c){var j=f[c];if(/\\[bdsw]/i.test(j))a.push(j);else{var j=m(j),d;c+2<i&&"-"===f[c+1]?(d=m(f[c+2]),c+=2):d=j;b.push([j,d]);d<65||j>122||(d<65||j>90||b.push([Math.max(65,j)|32,Math.min(d,90)|32]),d<97||j>122||b.push([Math.max(97,j)&-33,Math.min(d,122)&-33]))}}b.sort(function(a,f){return a[0]-f[0]||f[1]-a[1]});f=[];j=[NaN,NaN];for(c=0;c<b.length;++c)i=b[c],i[0]<=j[1]+1?j[1]=Math.max(j[1],i[1]):f.push(j=i);b=["["];o&&b.push("^");b.push.apply(b,a);for(c=0;c<f.length;++c)i=f[c],b.push(e(i[0])),i[1]>i[0]&&(i[1]+1>i[0]&&b.push("-"),b.push(e(i[1])));b.push("]");return b.join("")}function y(a){for(var f=a.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),b=f.length,d=[],c=0,i=0;c<b;++c){var j=f[c];j==="("?++i:"\\"===j.charAt(0)&&(j=+j.substring(1))&&j<=i&&(d[j]=-1)}for(c=1;c<d.length;++c)-1===d[c]&&(d[c]=++t);for(i=c=0;c<b;++c)j=f[c],j==="("?(++i,d[i]===void 0&&(f[c]="(?:")):"\\"===j.charAt(0)&&(j=+j.substring(1))&&j<=i&&(f[c]="\\"+d[i]);for(i=c=0;c<b;++c)"^"===f[c]&&"^"!==f[c+1]&&(f[c]="");if(a.ignoreCase&&s)for(c=0;c<b;++c)j=f[c],a=j.charAt(0),j.length>=2&&a==="["?f[c]=h(j):a!=="\\"&&(f[c]=j.replace(/[A-Za-z]/g,function(a){a=a.charCodeAt(0);return"["+String.fromCharCode(a&-33,a|32)+"]"}));return f.join("")}for(var t=0,s=!1,l=!1,p=0,d=a.length;p<d;++p){var g=a[p];if(g.ignoreCase)l=!0;else if(/[a-z]/i.test(g.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){s=!0;l=!1;break}}for(var r={b:8,t:9,n:10,v:11,f:12,r:13},n=[],p=0,d=a.length;p<d;++p){g=a[p];if(g.global||g.multiline)throw Error(""+g);n.push("(?:"+y(g)+")")}return RegExp(n.join("|"),l?"gi":"g")}function M(a){function m(a){switch(a.nodeType){case 1:if(e.test(a.className))break;for(var g=a.firstChild;g;g=g.nextSibling)m(g);g=a.nodeName;if("BR"===g||"LI"===g)h[s]="\n",t[s<<1]=y++,t[s++<<1|1]=a;break;case 3:case 4:g=a.nodeValue,g.length&&(g=p?g.replace(/\r\n?/g,"\n"):g.replace(/[\t\n\r ]+/g," "),h[s]=g,t[s<<1]=y,y+=g.length,t[s++<<1|1]=a)}}var e=/(?:^|\s)nocode(?:\s|$)/,h=[],y=0,t=[],s=0,l;a.currentStyle?l=a.currentStyle.whiteSpace:window.getComputedStyle&&(l=document.defaultView.getComputedStyle(a,q).getPropertyValue("white-space"));var p=l&&"pre"===l.substring(0,3);m(a);return{a:h.join("").replace(/\n$/,""),c:t}}function B(a,m,e,h){m&&(a={a:m,d:a},e(a),h.push.apply(h,a.e))}function x(a,m){function e(a){for(var l=a.d,p=[l,"pln"],d=0,g=a.a.match(y)||[],r={},n=0,z=g.length;n<z;++n){var f=g[n],b=r[f],o=void 0,c;if(typeof b==="string")c=!1;else{var i=h[f.charAt(0)];if(i)o=f.match(i[1]),b=i[0];else{for(c=0;c<t;++c)if(i=m[c],o=f.match(i[1])){b=i[0];break}o||(b="pln")}if((c=b.length>=5&&"lang-"===b.substring(0,5))&&!(o&&typeof o[1]==="string"))c=!1,b="src";c||(r[f]=b)}i=d;d+=f.length;if(c){c=o[1];var j=f.indexOf(c),k=j+c.length;o[2]&&(k=f.length-o[2].length,j=k-c.length);b=b.substring(5);B(l+i,f.substring(0,j),e,p);B(l+i+j,c,C(b,c),p);B(l+i+k,f.substring(k),e,p)}else p.push(l+i,b)}a.e=p}var h={},y;(function(){for(var e=a.concat(m),l=[],p={},d=0,g=e.length;d<g;++d){var r=e[d],n=r[3];if(n)for(var k=n.length;--k>=0;)h[n.charAt(k)]=r;r=r[1];n=""+r;p.hasOwnProperty(n)||(l.push(r),p[n]=q)}l.push(/[\S\s]/);y=L(l)})();var t=m.length;return e}function u(a){var m=[],e=[];a.tripleQuotedStrings?m.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,q,"'\""]):a.multiLineStrings?m.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,q,"'\"`"]):m.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,q,"\"'"]);a.verbatimStrings&&e.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,q]);var h=a.hashComments;h&&(a.cStyleComments?(h>1?m.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,q,"#"]):m.push(["com",/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\n\r]*)/,q,"#"]),e.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,q])):m.push(["com",/^#[^\n\r]*/,q,"#"]));a.cStyleComments&&(e.push(["com",/^\/\/[^\n\r]*/,q]),e.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,q]));a.regexLiterals&&e.push(["lang-regex",/^(?:^^\.?|[!+-]|!=|!==|#|%|%=|&|&&|&&=|&=|\(|\*|\*=|\+=|,|-=|->|\/|\/=|:|::|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|[?@[^]|\^=|\^\^|\^\^=|{|\||\|=|\|\||\|\|=|~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\s*(\/(?=[^*/])(?:[^/[\\]|\\[\S\s]|\[(?:[^\\\]]|\\[\S\s])*(?:]|$))+\/)/]);(h=a.types)&&e.push(["typ",h]);a=(""+a.keywords).replace(/^ | $/g,"");a.length&&e.push(["kwd",RegExp("^(?:"+a.replace(/[\s,]+/g,"|")+")\\b"),q]);m.push(["pln",/^\s+/,q," \r\n\t\xa0"]);e.push(["lit",/^@[$_a-z][\w$@]*/i,q],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,q],["pln",/^[$_a-z][\w$@]*/i,q],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,q,"0123456789"],["pln",/^\\[\S\s]?/,q],["pun",/^.[^\s\w"-$'./@\\`]*/,q]);return x(m,e)}function D(a,m){function e(a){switch(a.nodeType){case 1:if(k.test(a.className))break;if("BR"===a.nodeName)h(a),a.parentNode&&a.parentNode.removeChild(a);else for(a=a.firstChild;a;a=a.nextSibling)e(a);break;case 3:case 4:if(p){var b=a.nodeValue,d=b.match(t);if(d){var c=b.substring(0,d.index);a.nodeValue=c;(b=b.substring(d.index+d[0].length))&&a.parentNode.insertBefore(s.createTextNode(b),a.nextSibling);h(a);c||a.parentNode.removeChild(a)}}}}function h(a){function b(a,d){var e=d?a.cloneNode(!1):a,f=a.parentNode;if(f){var f=b(f,1),g=a.nextSibling;f.appendChild(e);for(var h=g;h;h=g)g=h.nextSibling,f.appendChild(h)}return e}
for(;!a.nextSibling;)if(a=a.parentNode,!a)return;for(var a=b(a.nextSibling,0),e;(e=a.parentNode)&&e.nodeType===1;)a=e;d.push(a)}var k=/(?:^|\s)nocode(?:\s|$)/,t=/\r\n?|\n/,s=a.ownerDocument,l;a.currentStyle?l=a.currentStyle.whiteSpace:window.getComputedStyle&&(l=s.defaultView.getComputedStyle(a,q).getPropertyValue("white-space"));var p=l&&"pre"===l.substring(0,3);for(l=s.createElement("LI");a.firstChild;)l.appendChild(a.firstChild);for(var d=[l],g=0;g<d.length;++g)e(d[g]);m===(m|0)&&d[0].setAttribute("value",m);var r=s.createElement("OL");r.className="linenums";for(var n=Math.max(0,m-1|0)||0,g=0,z=d.length;g<z;++g)l=d[g],l.className="L"+(g+n)%10,l.firstChild||l.appendChild(s.createTextNode("\xa0")),r.appendChild(l);a.appendChild(r)}function k(a,m){for(var e=m.length;--e>=0;){var h=m[e];A.hasOwnProperty(h)?window.console&&console.warn("cannot override language handler %s",h):A[h]=a}}function C(a,m){if(!a||!A.hasOwnProperty(a))a=/^\s*</.test(m)?"default-markup":"default-code";return A[a]}function E(a){var m=a.g;try{var e=M(a.h),h=e.a;a.a=h;a.c=e.c;a.d=0;C(m,h)(a);var k=/\bMSIE\b/.test(navigator.userAgent),m=/\n/g,t=a.a,s=t.length,e=0,l=a.c,p=l.length,h=0,d=a.e,g=d.length,a=0;d[g]=s;var r,n;for(n=r=0;n<g;)d[n]!==d[n+2]?(d[r++]=d[n++],d[r++]=d[n++]):n+=2;g=r;for(n=r=0;n<g;){for(var z=d[n],f=d[n+1],b=n+2;b+2<=g&&d[b+1]===f;)b+=2;d[r++]=z;d[r++]=f;n=b}for(d.length=r;h<p;){var o=l[h+2]||s,c=d[a+2]||s,b=Math.min(o,c),i=l[h+1],j;if(i.nodeType!==1&&(j=t.substring(e,b))){k&&(j=j.replace(m,"\r"));i.nodeValue=j;var u=i.ownerDocument,v=u.createElement("SPAN");v.className=d[a+1];var x=i.parentNode;x.replaceChild(v,i);v.appendChild(i);e<o&&(l[h+1]=i=u.createTextNode(t.substring(b,o)),x.insertBefore(i,v.nextSibling))}e=b;e>=o&&(h+=2);e>=c&&(a+=2)}}catch(w){"console"in window&&console.log(w&&w.stack?w.stack:w)}}var v=["break,continue,do,else,for,if,return,while"],w=[[v,"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],F=[w,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],G=[w,"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient"],H=[G,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var"],w=[w,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],I=[v,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],J=[v,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],v=[v,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],K=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/,N=/\S/,O=u({keywords:[F,H,w,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END"+
I,J,v],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),A={};k(O,["default-code"]);k(x([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]);k(x([["pln",/^\s+/,q," \t\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,q,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'/>]|\/(?=\s)))/],["pun",/^[/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]);k(x([],[["atv",/^[\S\s]+/]]),["uq.val"]);k(u({keywords:F,hashComments:!0,cStyleComments:!0,types:K}),["c","cc","cpp","cxx","cyc","m"]);k(u({keywords:"null,true,false"}),["json"]);k(u({keywords:H,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:K}),["cs"]);k(u({keywords:G,cStyleComments:!0}),["java"]);k(u({keywords:v,hashComments:!0,multiLineStrings:!0}),["bsh","csh","sh"]);k(u({keywords:I,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py"]);k(u({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["perl","pl","pm"]);k(u({keywords:J,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb"]);k(u({keywords:w,cStyleComments:!0,regexLiterals:!0}),["js"]);k(u({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]);k(x([],[["str",/^[\S\s]+/]]),["regex"]);window.prettyPrintOne=function(a,m,e){var h=document.createElement("PRE");h.innerHTML=a;e&&D(h,e);E({g:m,i:e,h:h});return h.innerHTML};window.prettyPrint=function(a){function m(){for(var e=window.PR_SHOULD_USE_CONTINUATION?l.now()+250:Infinity;p<h.length&&l.now()<e;p++){var n=h[p],k=n.className;if(k.indexOf("prettyprint")>=0){var k=k.match(g),f,b;if(b=!k){b=n;for(var o=void 0,c=b.firstChild;c;c=c.nextSibling)var i=c.nodeType,o=i===1?o?b:c:i===3?N.test(c.nodeValue)?b:o:o;b=(f=o===b?void 0:o)&&"CODE"===f.tagName}b&&(k=f.className.match(g));k&&(k=k[1]);b=!1;for(o=n.parentNode;o;o=o.parentNode)if((o.tagName==="pre"||o.tagName==="code"||o.tagName==="xmp")&&o.className&&o.className.indexOf("prettyprint")>=0){b=!0;break}b||((b=(b=n.className.match(/\blinenums\b(?::(\d+))?/))?b[1]&&b[1].length?+b[1]:!0:!1)&&D(n,b),d={g:k,h:n,i:b},E(d))}}p<h.length?setTimeout(m,250):a&&a()}for(var e=[document.getElementsByTagName("pre"),document.getElementsByTagName("code"),document.getElementsByTagName("xmp")],h=[],k=0;k<e.length;++k)for(var t=0,s=e[k].length;t<s;++t)h.push(e[k][t]);var e=q,l=Date;l.now||(l={now:function(){return+new Date}});var p=0,d,g=/\blang(?:uage)?-([\w.]+)(?!\S)/;m()};window.PR={createSimpleLexer:x,registerLangHandler:k,sourceDecorator:u,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ"}})();(function(){var root=this;var previousUnderscore=root._;var breaker={};var ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype;var push=ArrayProto.push,slice=ArrayProto.slice,concat=ArrayProto.concat,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty;var
nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind;var _=function(obj){if(obj instanceof _)return obj;if(!(this instanceof _))return new _(obj);this._wrapped=obj;};if(typeof exports!=='undefined'){if(typeof module!=='undefined'&&module.exports){exports=module.exports=_;}
exports._=_;}else{root._=_;}
_.VERSION='1.4.3';var each=_.each=_.forEach=function(obj,iterator,context){if(obj==null)return;if(nativeForEach&&obj.forEach===nativeForEach){obj.forEach(iterator,context);}else if(obj.length===+obj.length){for(var i=0,l=obj.length;i<l;i++){if(iterator.call(context,obj[i],i,obj)===breaker)return;}}else{for(var key in obj){if(_.has(obj,key)){if(iterator.call(context,obj[key],key,obj)===breaker)return;}}}};_.map=_.collect=function(obj,iterator,context){var results=[];if(obj==null)return results;if(nativeMap&&obj.map===nativeMap)return obj.map(iterator,context);each(obj,function(value,index,list){results[results.length]=iterator.call(context,value,index,list);});return results;};var reduceError='Reduce of empty array with no initial value';_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;if(obj==null)obj=[];if(nativeReduce&&obj.reduce===nativeReduce){if(context)iterator=_.bind(iterator,context);return initial?obj.reduce(iterator,memo):obj.reduce(iterator);}
each(obj,function(value,index,list){if(!initial){memo=value;initial=true;}else{memo=iterator.call(context,memo,value,index,list);}});if(!initial)throw new TypeError(reduceError);return memo;};_.reduceRight=_.foldr=function(obj,iterator,memo,context){var initial=arguments.length>2;if(obj==null)obj=[];if(nativeReduceRight&&obj.reduceRight===nativeReduceRight){if(context)iterator=_.bind(iterator,context);return initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator);}
var length=obj.length;if(length!==+length){var keys=_.keys(obj);length=keys.length;}
each(obj,function(value,index,list){index=keys?keys[--length]:--length;if(!initial){memo=obj[index];initial=true;}else{memo=iterator.call(context,memo,obj[index],index,list);}});if(!initial)throw new TypeError(reduceError);return memo;};_.find=_.detect=function(obj,iterator,context){var result;any(obj,function(value,index,list){if(iterator.call(context,value,index,list)){result=value;return true;}});return result;};_.filter=_.select=function(obj,iterator,context){var results=[];if(obj==null)return results;if(nativeFilter&&obj.filter===nativeFilter)return obj.filter(iterator,context);each(obj,function(value,index,list){if(iterator.call(context,value,index,list))results[results.length]=value;});return results;};_.reject=function(obj,iterator,context){return _.filter(obj,function(value,index,list){return!iterator.call(context,value,index,list);},context);};_.every=_.all=function(obj,iterator,context){iterator||(iterator=_.identity);var result=true;if(obj==null)return result;if(nativeEvery&&obj.every===nativeEvery)return obj.every(iterator,context);each(obj,function(value,index,list){if(!(result=result&&iterator.call(context,value,index,list)))return breaker;});return!!result;};var any=_.some=_.any=function(obj,iterator,context){iterator||(iterator=_.identity);var result=false;if(obj==null)return result;if(nativeSome&&obj.some===nativeSome)return obj.some(iterator,context);each(obj,function(value,index,list){if(result||(result=iterator.call(context,value,index,list)))return breaker;});return!!result;};_.contains=_.include=function(obj,target){if(obj==null)return false;if(nativeIndexOf&&obj.indexOf===nativeIndexOf)return obj.indexOf(target)!=-1;return any(obj,function(value){return value===target;});};_.invoke=function(obj,method){var args=slice.call(arguments,2);return _.map(obj,function(value){return(_.isFunction(method)?method:value[method]).apply(value,args);});};_.pluck=function(obj,key){return _.map(obj,function(value){return value[key];});};_.where=function(obj,attrs){if(_.isEmpty(attrs))return[];return _.filter(obj,function(value){for(var key in attrs){if(attrs[key]!==value[key])return false;}
return true;});}; _.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535){return Math.max.apply(Math,obj);}
if(!iterator&&_.isEmpty(obj))return-Infinity;var result={computed:-Infinity,value:-Infinity};each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>=result.computed&&(result={value:value,computed:computed});});return result.value;};_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535){return Math.min.apply(Math,obj);}
if(!iterator&&_.isEmpty(obj))return Infinity;var result={computed:Infinity,value:Infinity};each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed<result.computed&&(result={value:value,computed:computed});});return result.value;};_.shuffle=function(obj){var rand;var index=0;var shuffled=[];each(obj,function(value){rand=_.random(index++);shuffled[index-1]=shuffled[rand];shuffled[rand]=value;});return shuffled;};var lookupIterator=function(value){return _.isFunction(value)?value:function(obj){return obj[value];};};_.sortBy=function(obj,value,context){var iterator=lookupIterator(value);return _.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iterator.call(context,value,index,list)};}).sort(function(left,right){var a=left.criteria;var b=right.criteria;if(a!==b){if(a>b||a===void 0)return 1;if(a<b||b===void 0)return-1;}
return left.index<right.index?-1:1;}),'value');};var group=function(obj,value,context,behavior){var result={};var iterator=lookupIterator(value||_.identity);each(obj,function(value,index){var key=iterator.call(context,value,index,obj);behavior(result,key,value);});return result;};_.groupBy=function(obj,value,context){return group(obj,value,context,function(result,key,value){(_.has(result,key)?result[key]:(result[key]=[])).push(value);});};_.countBy=function(obj,value,context){return group(obj,value,context,function(result,key){if(!_.has(result,key))result[key]=0;result[key]++;});};_.sortedIndex=function(array,obj,iterator,context){iterator=iterator==null?_.identity:lookupIterator(iterator);var value=iterator.call(context,obj);var low=0,high=array.length;while(low<high){var mid=(low+high)>>>1;iterator.call(context,array[mid])<value?low=mid+1:high=mid;}
return low;};_.toArray=function(obj){if(!obj)return[];if(_.isArray(obj))return slice.call(obj);if(obj.length===+obj.length)return _.map(obj,_.identity);return _.values(obj);};_.size=function(obj){if(obj==null)return 0;return(obj.length===+obj.length)?obj.length:_.keys(obj).length;};_.first=_.head=_.take=function(array,n,guard){if(array==null)return void 0;return(n!=null)&&!guard?slice.call(array,0,n):array[0];};_.initial=function(array,n,guard){return slice.call(array,0,array.length-((n==null)||guard?1:n));};_.last=function(array,n,guard){if(array==null)return void 0;if((n!=null)&&!guard){return slice.call(array,Math.max(array.length-n,0));}else{return array[array.length-1];}};_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,(n==null)||guard?1:n);};_.compact=function(array){return _.filter(array,_.identity);};var flatten=function(input,shallow,output){each(input,function(value){if(_.isArray(value)){shallow?push.apply(output,value):flatten(value,shallow,output);}else{output.push(value);}});return output;};_.flatten=function(array,shallow){return flatten(array,shallow,[]);};_.without=function(array){return _.difference(array,slice.call(arguments,1));};_.uniq=_.unique=function(array,isSorted,iterator,context){if(_.isFunction(isSorted)){context=iterator;iterator=isSorted;isSorted=false;}
var initial=iterator?_.map(array,iterator,context):array;var results=[];var seen=[];each(initial,function(value,index){if(isSorted?(!index||seen[seen.length-1]!==value):!_.contains(seen,value)){seen.push(value);results.push(array[index]);}});return results;};_.union=function(){return _.uniq(concat.apply(ArrayProto,arguments));};_.intersection=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.indexOf(other,item)>=0;});});};_.difference=function(array){var rest=concat.apply(ArrayProto,slice.call(arguments,1));return _.filter(array,function(value){return!_.contains(rest,value);});};_.zip=function(){var args=slice.call(arguments);var length=_.max(_.pluck(args,'length'));var results=new Array(length);for(var i=0;i<length;i++){results[i]=_.pluck(args,""+i);}
return results;};_.object=function(list,values){if(list==null)return{};var result={};for(var i=0,l=list.length;i<l;i++){if(values){result[list[i]]=values[i];}else{result[list[i][0]]=list[i][1];}}
return result;};_.indexOf=function(array,item,isSorted){if(array==null)return-1;var i=0,l=array.length;if(isSorted){if(typeof isSorted=='number'){i=(isSorted<0?Math.max(0,l+isSorted):isSorted);}else{i=_.sortedIndex(array,item);return array[i]===item?i:-1;}}
if(nativeIndexOf&&array.indexOf===nativeIndexOf)return array.indexOf(item,isSorted);for(;i<l;i++)if(array[i]===item)return i;return-1;};_.lastIndexOf=function(array,item,from){if(array==null)return-1;var hasIndex=from!=null;if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf){return hasIndex?array.lastIndexOf(item,from):array.lastIndexOf(item);}
var i=(hasIndex?from:array.length);while(i--)if(array[i]===item)return i;return-1;};_.range=function(start,stop,step){if(arguments.length<=1){stop=start||0;start=0;}
step=arguments[2]||1;var len=Math.max(Math.ceil((stop-start)/step),0);var idx=0;var range=new Array(len);while(idx<len){range[idx++]=start;start+=step;}
return range;};var ctor=function(){};_.bind=function(func,context){var args,bound;if(func.bind===nativeBind&&nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError;args=slice.call(arguments,2);return bound=function(){if(!(this instanceof bound))return func.apply(context,args.concat(slice.call(arguments)));ctor.prototype=func.prototype;var self=new ctor;ctor.prototype=null;var result=func.apply(self,args.concat(slice.call(arguments)));if(Object(result)===result)return result;return self;};};_.bindAll=function(obj){var funcs=slice.call(arguments,1);if(funcs.length==0)funcs=_.functions(obj);each(funcs,function(f){obj[f]=_.bind(obj[f],obj);});return obj;};_.memoize=function(func,hasher){var memo={};hasher||(hasher=_.identity);return function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:(memo[key]=func.apply(this,arguments));};};_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args);},wait);};_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)));};_.throttle=function(func,wait){var context,args,timeout,result;var previous=0;var later=function(){previous=new Date;timeout=null;result=func.apply(context,args);};return function(){var now=new Date;var remaining=wait-(now-previous);context=this;args=arguments;if(remaining<=0){clearTimeout(timeout);timeout=null;previous=now;result=func.apply(context,args);}else if(!timeout){timeout=setTimeout(later,remaining);}
return result;};};_.debounce=function(func,wait,immediate){var timeout,result;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)result=func.apply(context,args);};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)result=func.apply(context,args);return result;};};_.once=function(func){var ran=false,memo;return function(){if(ran)return memo;ran=true;memo=func.apply(this,arguments);func=null;return memo;};};_.wrap=function(func,wrapper){return function(){var args=[func];push.apply(args,arguments);return wrapper.apply(this,args);};};_.compose=function(){var funcs=arguments;return function(){var args=arguments;for(var i=funcs.length-1;i>=0;i--){args=[funcs[i].apply(this,args)];}
return args[0];};};_.after=function(times,func){if(times<=0)return func();return function(){if(--times<1){return func.apply(this,arguments);}};};_.keys=nativeKeys||function(obj){if(obj!==Object(obj))throw new TypeError('Invalid object');var keys=[];for(var key in obj)if(_.has(obj,key))keys[keys.length]=key;return keys;};_.values=function(obj){var values=[];for(var key in obj)if(_.has(obj,key))values.push(obj[key]);return values;};_.pairs=function(obj){var pairs=[];for(var key in obj)if(_.has(obj,key))pairs.push([key,obj[key]]);return pairs;};_.invert=function(obj){var result={};for(var key in obj)if(_.has(obj,key))result[obj[key]]=key;return result;};_.functions=_.methods=function(obj){var names=[];for(var key in obj){if(_.isFunction(obj[key]))names.push(key);}
return names.sort();};_.extend=function(obj){each(slice.call(arguments,1),function(source){if(source){for(var prop in source){obj[prop]=source[prop];}}});return obj;};_.pick=function(obj){var copy={};var keys=concat.apply(ArrayProto,slice.call(arguments,1));each(keys,function(key){if(key in obj)copy[key]=obj[key];});return copy;};_.omit=function(obj){var copy={};var keys=concat.apply(ArrayProto,slice.call(arguments,1));for(var key in obj){if(!_.contains(keys,key))copy[key]=obj[key];}
return copy;};_.defaults=function(obj){each(slice.call(arguments,1),function(source){if(source){for(var prop in source){if(obj[prop]==null)obj[prop]=source[prop];}}});return obj;};_.clone=function(obj){if(!_.isObject(obj))return obj;return _.isArray(obj)?obj.slice():_.extend({},obj);};_.tap=function(obj,interceptor){interceptor(obj);return obj;};var eq=function(a,b,aStack,bStack){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;if(a instanceof _)a=a._wrapped;if(b instanceof _)b=b._wrapped;var className=toString.call(a);if(className!=toString.call(b))return false;switch(className){case'[object String]':return a==String(b);case'[object Number]':return a!=+a?b!=+b:(a==0?1/a==1/b:a==+b);case'[object Date]':case'[object Boolean]':return+a==+b;case'[object RegExp]':return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase;}
if(typeof a!='object'||typeof b!='object')return false;var length=aStack.length;while(length--){if(aStack[length]==a)return bStack[length]==b;}
aStack.push(a);bStack.push(b);var size=0,result=true;if(className=='[object Array]'){size=a.length;result=size==b.length;if(result){while(size--){if(!(result=eq(a[size],b[size],aStack,bStack)))break;}}}else{var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&(aCtor instanceof aCtor)&&_.isFunction(bCtor)&&(bCtor instanceof bCtor))){return false;}
for(var key in a){if(_.has(a,key)){size++;if(!(result=_.has(b,key)&&eq(a[key],b[key],aStack,bStack)))break;}}
if(result){for(key in b){if(_.has(b,key)&&!(size--))break;}
result=!size;}}
aStack.pop();bStack.pop();return result;};_.isEqual=function(a,b){return eq(a,b,[],[]);};_.isEmpty=function(obj){if(obj==null)return true;if(_.isArray(obj)||_.isString(obj))return obj.length===0;for(var key in obj)if(_.has(obj,key))return false;return true;};_.isElement=function(obj){return!!(obj&&obj.nodeType===1);}; _.isArray=nativeIsArray||function(obj){return toString.call(obj)=='[object Array]';};_.isObject=function(obj){return obj===Object(obj);};each(['Arguments','Function','String','Number','Date','RegExp'],function(name){_['is'+name]=function(obj){return toString.call(obj)=='[object '+name+']';};});if(!_.isArguments(arguments)){_.isArguments=function(obj){return!!(obj&&_.has(obj,'callee'));};}
if(typeof(/./)!=='function'){_.isFunction=function(obj){return typeof obj==='function';};}
_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj));};_.isNaN=function(obj){return _.isNumber(obj)&&obj!=+obj;};_.isBoolean=function(obj){return obj===true||obj===false||toString.call(obj)=='[object Boolean]';};_.isNull=function(obj){return obj===null;};_.isUndefined=function(obj){return obj===void 0;};_.has=function(obj,key){return hasOwnProperty.call(obj,key);};_.noConflict=function(){root._=previousUnderscore;return this;};_.identity=function(value){return value;};_.times=function(n,iterator,context){var accum=Array(n);for(var i=0;i<n;i++)accum[i]=iterator.call(context,i);return accum;};_.random=function(min,max){if(max==null){max=min;min=0;}
return min+(0|Math.random()*(max-min+1));};var entityMap={escape:{'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#x27;','/':'&#x2F;'}};entityMap.unescape=_.invert(entityMap.escape);var entityRegexes={escape:new RegExp('['+_.keys(entityMap.escape).join('')+']','g'),unescape:new RegExp('('+_.keys(entityMap.unescape).join('|')+')','g')};_.each(['escape','unescape'],function(method){_[method]=function(string){if(string==null)return'';return(''+string).replace(entityRegexes[method],function(match){return entityMap[method][match];});};});_.result=function(object,property){if(object==null)return null;var value=object[property];return _.isFunction(value)?value.call(object):value;};_.mixin=function(obj){each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];push.apply(args,arguments);return result.call(this,func.apply(_,args));};});};var idCounter=0;_.uniqueId=function(prefix){var id=''+++idCounter;return prefix?prefix+id:id;};_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/;var escapes={"'":"'",'\\':'\\','\r':'r','\n':'n','\t':'t','\u2028':'u2028','\u2029':'u2029'};var escaper=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(text,data,settings){settings=_.defaults({},settings,_.templateSettings);var matcher=new RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join('|')+'|$','g');var index=0;var source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){source+=text.slice(index,offset).replace(escaper,function(match){return'\\'+escapes[match];});if(escape){source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'";}
if(interpolate){source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'";}
if(evaluate){source+="';\n"+evaluate+"\n__p+='";}
index=offset+match.length;return match;});source+="';\n";if(!settings.variable)source='with(obj||{}){\n'+source+'}\n';source="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+
source+"return __p;\n";try{var render=new Function(settings.variable||'obj','_',source);}catch(e){e.source=source;throw e;}
if(data)return render(data,_);var template=function(data){return render.call(this,data,_);};template.source='function('+(settings.variable||'obj')+'){\n'+source+'}';return template;};_.chain=function(obj){return _(obj).chain();};var result=function(obj){return this._chain?_(obj).chain():obj;};_.mixin(_);each(['pop','push','reverse','shift','sort','splice','unshift'],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;method.apply(obj,arguments);if((name=='shift'||name=='splice')&&obj.length===0)delete obj[0];return result.call(this,obj);};});each(['concat','join','slice'],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result.call(this,method.apply(this._wrapped,arguments));};});_.extend(_.prototype,{chain:function(){this._chain=true;return this;},value:function(){return this._wrapped;}});}).call(this);var CryptoJS=CryptoJS||function(i,j){var f={},b=f.lib={},m=b.Base=function(){function a(){}return{extend:function(e){a.prototype=this;var c=new a;e&&c.mixIn(e);c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.$super.extend(this)}}}(),l=b.WordArray=m.extend({init:function(a,e){a=this.words=a||[];this.sigBytes=e!=j?e:4*a.length},toString:function(a){return(a||d).stringify(this)},concat:function(a){var e=this.words,c=a.words,o=this.sigBytes,a=a.sigBytes;this.clamp();if(o%4)for(var b=0;b<a;b++)e[o+b>>>2]|=(c[b>>>2]>>>24-8*(b%4)&255)<<24-8*((o+b)%4);else if(65535<c.length)for(b=0;b<a;b+=4)e[o+b>>>2]=c[b>>>2];else e.push.apply(e,c);this.sigBytes+=a;return this},clamp:function(){var a=this.words,e=this.sigBytes;a[e>>>2]&=4294967295<<32-8*(e%4);a.length=i.ceil(e/4)},clone:function(){var a=m.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var e=[],c=0;c<a;c+=4)e.push(4294967296*i.random()|0);return l.create(e,a)}}),n=f.enc={},d=n.Hex={stringify:function(a){for(var e=a.words,a=a.sigBytes,c=[],b=0;b<a;b++){var d=e[b>>>2]>>>24-8*(b%4)&255;c.push((d>>>4).toString(16));c.push((d&15).toString(16))}return c.join("")},parse:function(a){for(var e=a.length,c=[],b=0;b<e;b+=2)c[b>>>3]|=parseInt(a.substr(b,2),16)<<24-4*(b%8);return l.create(c,e/2)}},h=n.Latin1={stringify:function(a){for(var e=a.words,a=a.sigBytes,b=[],d=0;d<a;d++)b.push(String.fromCharCode(e[d>>>2]>>>24-8*(d%4)&255));return b.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-8*(d%4);return l.create(c,b)}},k=n.Utf8={stringify:function(a){try{return decodeURIComponent(escape(h.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");}},parse:function(a){return h.parse(unescape(encodeURIComponent(a)))}},g=b.BufferedBlockAlgorithm=m.extend({reset:function(){this._data=l.create();this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=k.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var b=this._data,c=b.words,d=b.sigBytes,f=this.blockSize,g=d/(4*f),g=a?i.ceil(g):i.max((g|0)-this._minBufferSize,0),a=g*f,d=i.min(4*a,d);if(a){for(var h=0;h<a;h+=f)this._doProcessBlock(c,h);h=c.splice(0,a);b.sigBytes-=d}return l.create(h,d)},clone:function(){var a=m.clone.call(this);a._data=this._data.clone();return a},_minBufferSize:0});b.Hasher=g.extend({init:function(){this.reset()},reset:function(){g.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);this._doFinalize();return this._hash},clone:function(){var a=g.clone.call(this);a._hash=this._hash.clone();return a},blockSize:16,_createHelper:function(a){return function(b,c){return a.create(c).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return p.HMAC.create(a,c).finalize(b)}}});var p=f.algo={};return f}(Math);(function(){var i=CryptoJS,j=i.lib,f=j.WordArray,j=j.Hasher,b=[],m=i.algo.SHA1=j.extend({_doReset:function(){this._hash=f.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(f,i){for(var d=this._hash.words,h=d[0],k=d[1],g=d[2],j=d[3],a=d[4],e=0;80>e;e++){if(16>e)b[e]=f[i+e]|0;else{var c=b[e-3]^b[e-8]^b[e-14]^b[e-16];b[e]=c<<1|c>>>31}c=(h<<5|h>>>27)+a+b[e];c=20>e?c+((k&g|~k&j)+1518500249):40>e?c+((k^g^j)+1859775393):60>e?c+((k&g|k&j|g&j)-1894007588):c+((k^g^j)-
899497514);a=j;j=g;g=k<<30|k>>>2;k=h;h=c}d[0]=d[0]+h|0;d[1]=d[1]+k|0;d[2]=d[2]+g|0;d[3]=d[3]+j|0;d[4]=d[4]+a|0},_doFinalize:function(){var b=this._data,f=b.words,d=8*this._nDataBytes,h=8*b.sigBytes;f[h>>>5]|=128<<24-h%32;f[(h+64>>>9<<4)+15]=d;b.sigBytes=4*f.length;this._process()}});i.SHA1=j._createHelper(m);i.HmacSHA1=j._createHmacHelper(m)})();(function(){var i=CryptoJS,j=i.enc.Utf8;i.algo.HMAC=i.lib.Base.extend({init:function(f,b){f=this._hasher=f.create();"string"==typeof b&&(b=j.parse(b));var i=f.blockSize,l=4*i;b.sigBytes>l&&(b=f.finalize(b));for(var n=this._oKey=b.clone(),d=this._iKey=b.clone(),h=n.words,k=d.words,g=0;g<i;g++)h[g]^=1549556828,k[g]^=909522486;n.sigBytes=d.sigBytes=l;this.reset()},reset:function(){var f=this._hasher;f.reset();f.update(this._iKey)},update:function(f){this._hasher.update(f);return this},finalize:function(f){var b=this._hasher,f=b.finalize(f);b.reset();return b.finalize(this._oKey.clone().concat(f))}})})();(function($){var props={type:'classes',insertBackLinks:true,backLinkText:'Back',startLevel:1,endLevel:6,textCallback:null}
var methods={init:function(options){var $that=this;jQuery.extend(props,options);if(props.type!=='headings'){props.type='classes';}
if(typeof(props.startLevel)!=='number'||props.startLevel<1){props.startLevel=1;}
if(typeof(props.endLevel)!=='number'||props.endLevel<1){props.endLevel=6;}
if(props.startLevel>props.endLevel){var temp=props.endLevel;props.endLevel=props.startLevel;props.startLevel=temp;}
$that.empty();var TOCTargetId=$that.attr('id')+"targetTOC";$("<a/>").attr({'id':TOCTargetId,'name':TOCTargetId,'class':'tocBackTarget'}).appendTo($that);var selector;if(props.type==='headings'){selector=':header';}
else{selector='.tocEntry';}
$(selector).each(function(index){var $this=$(this);var level=1;if(props.type==='headings'){level=parseInt(this.tagName.substring(1));}
else{var test=$this.attr('data-tocLevel');if(test!==undefined&&parseInt(test)!==NaN){level=parseInt(test);}}
if(level<props.startLevel||level>props.endLevel)return;var targetId="toc_"+level+"_"+index;var headingText=$this.text();if(headingText===undefined){if(props.textCallback){headingText=props.textCallback($this);}
else{headingText=jQuery.trim($this.text());}
$this.data('headingText',headingText);}
var backLink=$("<a>"+props.backLinkText+"</a>").attr({'class':'tocBackLink','name':targetId,'id':targetId,'href':'#'+TOCTargetId,'title':'Go back to the table of contents'});if(props.insertBackLinks!==true){backLink.text('');}
backLink.appendTo($this);var $TOCLine=$("<div class='TOCLine' />").attr('class','tocLevel'+level.toString());var $entry=$("<a>"+headingText+"</a>").attr({'title':headingText,'href':'#'+targetId,'class':'tocLink'}).appendTo($TOCLine).parent().appendTo($that);});return this.show();},disable:function(keepElement){this.empty();if(props.insertBackLinks===true){$("a.tocBackLink").remove();}
if(keepElement!==true){this.hide();}
return this;},rebuild:function(){this.tocBuilder('disable');this.tocBuilder('init');return this;}};$.fn.tocBuilder=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments);}else{$.error('Method '+method+' does not exist on jQuery.tocBuilder');}};})(jQuery);(function(jQuery,undefined){var stepHooks="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "), rplusequals=/^([\-+])=\s*(\d+\.?\d*)/,stringParsers=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]];}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[2.55*execResult[1],2.55*execResult[2],2.55*execResult[3],execResult[4]];}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16)];}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16)];}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(execResult){return[execResult[1],execResult[2]/100,execResult[3]/100,execResult[4]];}}],color=jQuery.Color=function(color,green,blue,alpha){return new jQuery.Color.fn.parse(color,green,blue,alpha);},spaces={rgba:{cache:"_rgba",props:{red:{idx:0,type:"byte",empty:true},green:{idx:1,type:"byte",empty:true},blue:{idx:2,type:"byte",empty:true},alpha:{idx:3,type:"percent",def:1}}},hsla:{cache:"_hsla",props:{hue:{idx:0,type:"degrees",empty:true},saturation:{idx:1,type:"percent",empty:true},lightness:{idx:2,type:"percent",empty:true}}}},propTypes={"byte":{floor:true,min:0,max:255},"percent":{min:0,max:1},"degrees":{mod:360,floor:true}},rgbaspace=spaces.rgba.props,support=color.support={}, colors, each=jQuery.each;spaces.hsla.props.alpha=rgbaspace.alpha;function clamp(value,prop,alwaysAllowEmpty){var type=propTypes[prop.type]||{},allowEmpty=prop.empty||alwaysAllowEmpty;if(allowEmpty&&value==null){return null;}
if(prop.def&&value==null){return prop.def;}
if(type.floor){value=~~value;}else{value=parseFloat(value);}
if(value==null||isNaN(value)){return prop.def;}
if(type.mod){value=value%type.mod; return value<0?type.mod+value:value;} 
return type.min>value?type.min:type.max<value?type.max:value;}
color.fn=color.prototype={constructor:color,parse:function(red,green,blue,alpha){if(red===undefined){this._rgba=[null,null,null,null];return this;}
if(red instanceof jQuery||red.nodeType){red=red instanceof jQuery?red.css(green):jQuery(red).css(green);green=undefined;}
var inst=this,type=jQuery.type(red),rgba=this._rgba=[],source;if(green!==undefined){red=[red,green,blue,alpha];type="array";}
if(type==="string"){red=red.toLowerCase();each(stringParsers,function(i,parser){var match=parser.re.exec(red),values=match&&parser.parse(match),parsed,spaceName=parser.space||"rgba",cache=spaces[spaceName].cache;if(values){parsed=inst[spaceName](values);inst[cache]=parsed[cache];rgba=inst._rgba=parsed._rgba; return false;}}); if(rgba.length!==0){if(Math.max.apply(Math,rgba)===0){jQuery.extend(rgba,colors.transparent);}
return this;} 
red=colors[red]||colors._default;return this.parse(red);}
if(type==="array"){each(rgbaspace,function(key,prop){rgba[prop.idx]=clamp(red[prop.idx],prop);});return this;}
if(type==="object"){if(red instanceof color){each(spaces,function(spaceName,space){if(red[space.cache]){inst[space.cache]=red[space.cache].slice();}});}else{each(spaces,function(spaceName,space){each(space.props,function(key,prop){var cache=space.cache; if(!inst[cache]&&space.to){ if(red[key]==null||key==="alpha"){return;}
inst[cache]=space.to(inst._rgba);} 
inst[cache][prop.idx]=clamp(red[key],prop,true);});});}
return this;}},is:function(compare){var is=color(compare),same=true,myself=this;each(spaces,function(_,space){var isCache=is[space.cache],localCache;if(isCache){localCache=myself[space.cache]||space.to&&space.to(myself._rgba)||[];each(space.props,function(_,prop){if(isCache[prop.idx]!=null){same=(isCache[prop.idx]==localCache[prop.idx]);return same;}});}
return same;});return same;},_space:function(){var used=[],inst=this;each(spaces,function(spaceName,space){if(inst[space.cache]){used.push(spaceName);}});return used.pop();},transition:function(other,distance){var end=color(other),spaceName=end._space(),space=spaces[spaceName],start=this[space.cache]||space.to(this._rgba),result=start.slice();end=end[space.cache];each(space.props,function(key,prop){var index=prop.idx,startValue=start[index],endValue=end[index],type=propTypes[prop.type]||{}; if(endValue===null){return;} 
if(startValue===null){result[index]=endValue;}else{if(type.mod){if(endValue-startValue>type.mod/2){startValue+=type.mod;}else if(startValue-endValue>type.mod/2){startValue-=type.mod;}}
result[prop.idx]=clamp((endValue-startValue)*distance+startValue,prop);}});return this[spaceName](result);},blend:function(opaque){ if(this._rgba[3]===1){return this;}
var rgb=this._rgba.slice(),a=rgb.pop(),blend=color(opaque)._rgba;return color(jQuery.map(rgb,function(v,i){return(1-a)*blend[i]+a*v;}));},toRgbaString:function(){var prefix="rgba(",rgba=jQuery.map(this._rgba,function(v,i){return v==null?(i>2?1:0):v;});if(rgba[3]===1){rgba.pop();prefix="rgb(";}
return prefix+rgba.join(",")+")";},toHslaString:function(){var prefix="hsla(",hsla=jQuery.map(this.hsla(),function(v,i){if(v==null){v=i>2?1:0;} 
if(i&&i<3){v=Math.round(v*100)+"%";}
return v;});if(hsla[3]==1){hsla.pop();prefix="hsl(";}
return prefix+hsla.join(",")+")";},toHexString:function(includeAlpha){var rgba=this._rgba.slice(),alpha=rgba.pop();if(includeAlpha){rgba.push(~~(alpha*255));}
return"#"+jQuery.map(rgba,function(v,i){ v=(v||0).toString(16);return v.length==1?"0"+v:v;}).join("");},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString();}};color.fn.parse.prototype=color.fn; function hue2rgb(p,q,h){h=(h+1)%1;if(h*6<1){return p+(q-p)*6*h;}
if(h*2<1){return q;}
if(h*3<2){return p+(q-p)*((2/3)-h)*6;}
return p;}
spaces.hsla.to=function(rgba){if(rgba[0]==null||rgba[1]==null||rgba[2]==null){return[null,null,null,rgba[3]];}
var r=rgba[0]/255,g=rgba[1]/255,b=rgba[2]/255,a=rgba[3],max=Math.max(r,g,b),min=Math.min(r,g,b),diff=max-min,add=max+min,l=add*0.5,h,s;if(min===max){h=0;}else if(r===max){h=(60*(g-b)/diff)+360;}else if(g===max){h=(60*(b-r)/diff)+120;}else{h=(60*(r-g)/diff)+240;}
if(l===0||l===1){s=l;}else if(l<=0.5){s=diff/add;}else{s=diff/(2-add);}
return[Math.round(h)%360,s,l,a==null?1:a];};spaces.hsla.from=function(hsla){if(hsla[0]==null||hsla[1]==null||hsla[2]==null){return[null,null,null,hsla[3]];}
var h=hsla[0]/360,s=hsla[1],l=hsla[2],a=hsla[3],q=l<=0.5?l*(1+s):l+s-l*s,p=2*l-q,r,g,b;return[Math.round(hue2rgb(p,q,h+(1/3))*255),Math.round(hue2rgb(p,q,h)*255),Math.round(hue2rgb(p,q,h-(1/3))*255),a];};each(spaces,function(spaceName,space){var props=space.props,cache=space.cache,to=space.to,from=space.from;color.fn[spaceName]=function(value){ if(to&&!this[cache]){this[cache]=to(this._rgba);}
if(value===undefined){return this[cache].slice();}
var type=jQuery.type(value),arr=(type==="array"||type==="object")?value:arguments,local=this[cache].slice(),ret;each(props,function(key,prop){var val=arr[type==="object"?key:prop.idx];if(val==null){val=local[prop.idx];}
local[prop.idx]=clamp(val,prop);});if(from){ret=color(from(local));ret[cache]=local;return ret;}else{return color(local);}};each(props,function(key,prop){ if(color.fn[key]){return;}
color.fn[key]=function(value){var vtype=jQuery.type(value),fn=(key==='alpha'?(this._hsla?'hsla':'rgba'):spaceName),local=this[fn](),cur=local[prop.idx],match;if(vtype==="undefined"){return cur;}
if(vtype==="function"){value=value.call(this,cur);vtype=jQuery.type(value);}
if(value==null&&prop.empty){return this;}
if(vtype==="string"){match=rplusequals.exec(value);if(match){value=cur+parseFloat(match[2])*(match[1]==="+"?1:-1);}}
local[prop.idx]=value;return this[fn](local);};});}); each(stepHooks,function(i,hook){jQuery.cssHooks[hook]={set:function(elem,value){value=color(value);if(!support.rgba&&value._rgba[3]!==1){var backgroundColor,curElem=hook==="backgroundColor"?elem.parentNode:elem;do{backgroundColor=jQuery.curCSS(curElem,"backgroundColor");}while((backgroundColor===""||backgroundColor==="transparent")&&(curElem=curElem.parentNode)&&curElem.style);value=value.blend(backgroundColor&&backgroundColor!=="transparent"?backgroundColor:"_default");}
value=value.toRgbaString();elem.style[hook]=value;}};jQuery.fx.step[hook]=function(fx){if(!fx.colorInit){fx.start=color(fx.elem,hook);fx.end=color(fx.end);fx.colorInit=true;}
jQuery.cssHooks[hook].set(fx.elem,fx.start.transition(fx.end,fx.pos));};}); jQuery(function(){var div=document.createElement("div"),div_style=div.style;div_style.cssText="background-color:rgba(1,1,1,.5)";support.rgba=div_style.backgroundColor.indexOf("rgba")>-1;});colors=jQuery.Color.names={aqua:"#00ffff",azure:"#f0ffff",beige:"#f5f5dc",black:"#000000",blue:"#0000ff",brown:"#a52a2a",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkviolet:"#9400d3",fuchsia:"#ff00ff",gold:"#ffd700",green:"#008000",indigo:"#4b0082",khaki:"#f0e68c",lightblue:"#add8e6",lightcyan:"#e0ffff",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightyellow:"#ffffe0",lime:"#00ff00",magenta:"#ff00ff",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",pink:"#ffc0cb",purple:"#800080",violet:"#800080",red:"#ff0000",silver:"#c0c0c0",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};})(jQuery);(function($,document,undefined){var pluses=/\+/g;function raw(s){return s;}
function decoded(s){return decodeURIComponent(s.replace(pluses,' '));}
$.cookie=function(key,value,options){if(value!==undefined&&!/Object/.test(Object.prototype.toString.call(value))){options=$.extend({},$.cookie.defaults,options);if(value===null){options.expires=-1;}
if(typeof options.expires==='number'){var days=options.expires,t=options.expires=new Date();t.setDate(t.getDate()+days);}
value=String(value);return(document.cookie=[encodeURIComponent(key),'=',options.raw?value:encodeURIComponent(value),options.expires?'; expires='+options.expires.toUTCString():'', options.path?'; path='+options.path:'',options.domain?'; domain='+options.domain:'',options.secure?'; secure':''].join(''));}
options=value||$.cookie.defaults||{};var decode=options.raw?raw:decoded;var cookies=document.cookie.split('; ');for(var i=0,parts;(parts=cookies[i]&&cookies[i].split('='));i++){if(decode(parts.shift())===key){return decode(parts.join('='));}}
return null;};$.cookie.defaults={};$.removeCookie=function(key,options){if($.cookie(key,options)!==null){$.cookie(key,null,options);return true;}
return false;};})(jQuery,document);(function(){var Mustache=function(){var _toString=Object.prototype.toString;Array.isArray=Array.isArray||function(obj){return _toString.call(obj)=="[object Array]";}
var _trim=String.prototype.trim,trim;if(_trim){trim=function(text){return text==null?"":_trim.call(text);}}else{var trimLeft,trimRight;if((/\S/).test("\xA0")){trimLeft=/^[\s\xA0]+/;trimRight=/[\s\xA0]+$/;}else{trimLeft=/^\s+/;trimRight=/\s+$/;}
trim=function(text){return text==null?"":text.toString().replace(trimLeft,"").replace(trimRight,"");}}
var escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':'&quot;',"'":'&#39;'};function escapeHTML(string){return String(string).replace(/&(?!\w+;)|[<>"']/g,function(s){return escapeMap[s]||s;});}
var regexCache={};var Renderer=function(){};Renderer.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":true},context:{},render:function(template,context,partials,in_recursion){ if(!in_recursion){this.context=context;this.buffer=[];} 
if(!this.includes("",template)){if(in_recursion){return template;}else{this.send(template);return;}} 
template=this.render_pragmas(template); var html=this.render_section(template,context,partials); if(html===false){html=this.render_tags(template,context,partials,in_recursion);}
if(in_recursion){return html;}else{this.sendLines(html);}},send:function(line){if(line!==""){this.buffer.push(line);}},sendLines:function(text){if(text){var lines=text.split("\n");for(var i=0;i<lines.length;i++){this.send(lines[i]);}}},render_pragmas:function(template){ if(!this.includes("%",template)){return template;}
var that=this;var regex=this.getCachedRegex("render_pragmas",function(otag,ctag){return new RegExp(otag+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+ctag,"g");});return template.replace(regex,function(match,pragma,options){if(!that.pragmas_implemented[pragma]){throw({message:"This implementation of mustache doesn't understand the '"+
pragma+"' pragma"});}
that.pragmas[pragma]={};if(options){var opts=options.split("=");that.pragmas[pragma][opts[0]]=opts[1];}
return"";});},render_partial:function(name,context,partials){name=trim(name);if(!partials||partials[name]===undefined){throw({message:"unknown_partial '"+name+"'"});}
if(!context||typeof context[name]!="object"){return this.render(partials[name],context,partials,true);}
return this.render(partials[name],context[name],partials,true);},render_section:function(template,context,partials){if(!this.includes("#",template)&&!this.includes("^",template)){ return false;}
var that=this;var regex=this.getCachedRegex("render_section",function(otag,ctag){ return new RegExp("^([\\s\\S]*?)"+otag+"(\\^|\\#)\\s*(.+)\\s*"+ctag+"\n*([\\s\\S]*?)"+ otag+"\\/\\s*\\3\\s*"+ctag+"\\s*([\\s\\S]*)$","g");});return template.replace(regex,function(match,before,type,name,content,after){ var renderedBefore=before?that.render_tags(before,context,partials,true):"", renderedAfter=after?that.render(after,context,partials,true):"", renderedContent,value=that.find(name,context);if(type==="^"){ if(!value||Array.isArray(value)&&value.length===0){ renderedContent=that.render(content,context,partials,true);}else{renderedContent="";}}else if(type==="#"){ if(Array.isArray(value)){renderedContent=that.map(value,function(row){return that.render(content,that.create_context(row),partials,true);}).join("");}else if(that.is_object(value)){renderedContent=that.render(content,that.create_context(value),partials,true);}else if(typeof value=="function"){ renderedContent=value.call(context,content,function(text){return that.render(text,context,partials,true);});}else if(value){ renderedContent=that.render(content,context,partials,true);}else{renderedContent="";}}
return renderedBefore+renderedContent+renderedAfter;});},render_tags:function(template,context,partials,in_recursion){ var that=this;var new_regex=function(){return that.getCachedRegex("render_tags",function(otag,ctag){return new RegExp(otag+"(=|!|>|&|\\{|%)?([^#\\^]+?)\\1?"+ctag+"+","g");});};var regex=new_regex();var tag_replace_callback=function(match,operator,name){switch(operator){case"!": return"";case"=": that.set_delimiters(name);regex=new_regex();return"";case">": return that.render_partial(name,context,partials);case"{": case"&": return that.find(name,context);default: return escapeHTML(that.find(name,context));}};var lines=template.split("\n");for(var i=0;i<lines.length;i++){lines[i]=lines[i].replace(regex,tag_replace_callback,this);if(!in_recursion){this.send(lines[i]);}}
if(in_recursion){return lines.join("\n");}},set_delimiters:function(delimiters){var dels=delimiters.split(" ");this.otag=this.escape_regex(dels[0]);this.ctag=this.escape_regex(dels[1]);},escape_regex:function(text){ if(!arguments.callee.sRE){var specials=['/','.','*','+','?','|','(',')','[',']','{','}','\\'];arguments.callee.sRE=new RegExp('(\\'+specials.join('|\\')+')','g');}
return text.replace(arguments.callee.sRE,'\\$1');},find:function(name,context){name=trim(name); function is_kinda_truthy(bool){return bool===false||bool===0||bool;}
var value; if(name.match(/([a-z_]+)\./ig)){var childValue=this.walk_context(name,context);if(is_kinda_truthy(childValue)){value=childValue;}}else{if(is_kinda_truthy(context[name])){value=context[name];}else if(is_kinda_truthy(this.context[name])){value=this.context[name];}}
if(typeof value=="function"){return value.apply(context);}
if(value!==undefined){return value;} 
return"";},walk_context:function(name,context){var path=name.split('.'); var value_context=(context[path[0]]!=undefined)?context:this.context;var value=value_context[path.shift()];while(value!=undefined&&path.length>0){value_context=value;value=value[path.shift()];} 
if(typeof value=="function"){return value.apply(value_context);}
return value;},includes:function(needle,haystack){return haystack.indexOf(this.otag+needle)!=-1;}, create_context:function(_context){if(this.is_object(_context)){return _context;}else{var iterator=".";if(this.pragmas["IMPLICIT-ITERATOR"]){iterator=this.pragmas["IMPLICIT-ITERATOR"].iterator;}
var ctx={};ctx[iterator]=_context;return ctx;}},is_object:function(a){return a&&typeof a=="object";},map:function(array,fn){if(typeof array.map=="function"){return array.map(fn);}else{var r=[];var l=array.length;for(var i=0;i<l;i++){r.push(fn(array[i]));}
return r;}},getCachedRegex:function(name,generator){var byOtag=regexCache[this.otag];if(!byOtag){byOtag=regexCache[this.otag]={};}
var byCtag=byOtag[this.ctag];if(!byCtag){byCtag=byOtag[this.ctag]={};}
var regex=byCtag[name];if(!regex){regex=byCtag[name]=generator(this.otag,this.ctag);}
return regex;}};return({name:"mustache.js",version:"0.4.0",to_html:function(template,view,partials,send_fun){var renderer=new Renderer();if(send_fun){renderer.send=send_fun;}
renderer.render(template,view||{},partials);if(!send_fun){return renderer.buffer.join("\n");}}});}();(function(){function trim(stuff){if(''.trim)return stuff.trim();else return stuff.replace(/^\s+/,'').replace(/\s+$/,'');}
var ich={VERSION:"0.10.1",templates:{}, $:(typeof window!=='undefined')?window.jQuery||window.Zepto||null:null,addTemplate:function(name,templateString){if(typeof name==='object'){for(var template in name){this.addTemplate(template,name[template]);}
return;}
if(ich[name]){console.error("Invalid name: "+name+".");}else if(ich.templates[name]){console.error("Template \""+name+"  \" exists");}else{ich.templates[name]=templateString;ich[name]=function(data,raw){data=data||{};var result=Mustache.to_html(ich.templates[name],data,ich.templates);return(ich.$&&!raw)?ich.$(result):result;};}}, clearAll:function(){for(var key in ich.templates){delete ich[key];}
ich.templates={};}, refresh:function(){ich.clearAll();ich.grabTemplates();},grabTemplates:function(){var i,l,scripts=document.getElementsByTagName('script'),script,trash=[];for(i=0,l=scripts.length;i<l;i++){script=scripts[i];if(script&&script.innerHTML&&script.id&&(script.type==="text/html"||script.type==="text/x-icanhaz")){ich.addTemplate(script.id,trim(script.innerHTML));trash.unshift(script);}}
for(i=0,l=trash.length;i<l;i++){trash[i].parentNode.removeChild(trash[i]);}}}; if(typeof require!=='undefined'){module.exports=ich;}else{ window.ich=ich;}
if(typeof document!=='undefined'){if(ich.$){ich.$(function(){ich.grabTemplates();});}else{var grabTemplateWrapper=function(){ich.grabTemplates();}
if(document.addEventListener){document.addEventListener('DOMContentLoaded',grabTemplateWrapper,true);}else if(document.attachEvent){document.attachEvent('DOMContentLoaded',grabTemplateWrapper);}}}})();})();if(!Array.prototype.indexOf){Array.prototype.indexOf=function(searchElement){"use strict";if(this==null){throw new TypeError();}
var t=Object(this);var len=t.length>>>0;if(len===0){return-1;}
var n=0;if(arguments.length>0){n=Number(arguments[1]);if(n!=n){ n=0;}else if(n!=0&&n!=Infinity&&n!=-Infinity){n=(n>0||-1)*Math.floor(Math.abs(n));}}
if(n>=len){return-1;}
var k=n>=0?n:Math.max(len-Math.abs(n),0);for(;k<len;k++){if(k in t&&t[k]===searchElement){return k;}}
return-1;}}
Array.prototype.unique=function(){var o={},i,l=this.length,r=[];for(i=0;i<l;i+=1)o[this[i]]=this[i];for(i in o)r.push(o[i]);return r;};var omitUndefined=function(obj){return _.omit(obj,"undefined")}
if(!Array.prototype.filter)
{Array.prototype.filter=function(fun)
{"use strict";if(this==null)
throw new TypeError();var t=Object(this);var len=t.length>>>0;if(typeof fun!="function")
throw new TypeError();var res=[];var thisp=arguments[1];for(var i=0;i<len;i++)
{if(i in t)
{var val=t[i]; if(fun.call(thisp,val,i,t))
res.push(val);}}
return res;};}
if(!Array.prototype.map){Array.prototype.map=function(callback,thisArg){var T,A,k;if(this==null){throw new TypeError(" this is null or not defined");}
var O=Object(this);var len=O.length>>>0; if(typeof callback!=="function"){throw new TypeError(callback+" is not a function");}
if(thisArg){T=thisArg;}
A=new Array(len); k=0; while(k<len){var kValue,mappedValue; if(k in O){kValue=O[k];mappedValue=callback.call(T,kValue,k,O);A[k]=mappedValue;}
k++;} 
return A;};}
var Award=function(audience,engagementType,metrics){this.audience=audience
this.engagementType=engagementType
this.metrics=metrics
this.init()}
Award.prototype={engagementTypeNounsList:{"viewed":"views","discussed":"discussion","saved":"saves","cited":"citation","recommended":"recommendation"},init:function(){this.engagementTypeNoun=this.engagementTypeNounsList[this.engagementType]
this.topMetric=this.getTopMetric(this.metrics)
this.isHighly=this.isHighly(this.metrics)
this.displayAudience=this.audience.replace("public","the public")},isHighly:function(metrics){return _.some(metrics,function(metric){if(typeof metric.percentiles==="undefined"){return false}
else if(metric.percentiles.CI95_lower>=75&&metric.actualCount>=metric.minForAward){return true}
else{return false}})},getTopMetric:function(metrics){ var maxCount=_.max(metrics,function(x){return x.actualCount;}).actualCount;var topMetric=_.max(metrics,function(x){var rawCountContribution=(x.actualCount/maxCount-.0001) 
if(typeof x.percentiles=="undefined"){return rawCountContribution;}
else{return x.percentiles.CI95_lower+rawCountContribution;}});return topMetric}}
function Item(itemData,itemView,$){this.makeAwardsList=function(metrics){var awards=[]
var audiencesObj=omitUndefined(_.groupBy(metrics,"audience"))
_.each(audiencesObj,function(audienceMetrics,audienceName){var engagementTypesObj=omitUndefined(_.groupBy(audienceMetrics,"engagementType"))
_.each(engagementTypesObj,function(engagementType,engagementTypeName){awards.push(new Award(audienceName,engagementTypeName,engagementType))})})
if(awards.length){awards.big=["here is an item"]
awards.any=["here is an item"]}
return awards}
this.init=function(itemData,itemView){var metricInfoKeys=["name","audience","engagementType","display","minForAward"]
var metricInfo=_.object(_.map([["citeulike:bookmarks","scholars","saved","badge",3],["delicious:bookmarks","public","saved","badge",3],["dryad:most_downloaded_file"],["dryad:package_views","scholars","viewed","badge",3],["dryad:total_downloads","scholars","viewed","badge",3],["figshare:views","scholars","viewed","badge",3],["figshare:downloads","scholars","viewed","badge",3],["figshare:shares","scholars","discussed","badge",3],["facebook:shares","public","discussed","badge",3],["facebook:comments","public","discussed","badge",3],["facebook:likes","public","discussed","badge",3],["facebook:clicks","public","discussed","badge",3],["github:forks","public","cited","badge",3],["github:watchers","public","saved","badge",3],["mendeley:career_stage"],["mendeley:country"],["mendeley:discipline"],["mendeley:student_readers"],["mendeley:developing_countries"],["mendeley:groups"],["mendeley:readers","scholars","saved","badge",3],["pmc:pdf_downloads"],["pmc:abstract_views"],["pmc:fulltext_views"],["pmc:unique_ip_views"],["pmc:figure_views"],["pmc:suppdata_views"],["plosalm:crossref"],["plosalm:html_views","public","viewed","badge",3],["plosalm:pdf_views","scholars","viewed","badge",3],["plosalm:pmc_abstract"],["plosalm:pmc_figure"],["plosalm:pmc_full-text"],["plosalm:pmc_pdf"],["plosalm:pmc_supp-data"],["plosalm:pmc_unique-ip"],["plosalm:pubmed_central"],["plosalm:scopus"],["pubmed:f1000","scholars","recommended","badge",1],["pubmed:pmc_citations","scholars","cited",0,0],["pubmed:pmc_citations_editorials","scholars","recommended",0,0],["pubmed:pmc_citations_reviews","scholars","cited",0,0],["scienceseeker:blog_posts","scholars","discussed","badge",0],["scopus:citations","scholars","cited","badge",3],["researchblogging:blogs","scholars","discussed",0,0],["slideshare:comments","public","discussed","badge",3],["slideshare:downloads","public","viewed","badge",3],["slideshare:favorites","public","recommended","badge",3],["slideshare:views","public","viewed","badge",3],["topsy:influential_tweets","public","discussed","zoom",0],["topsy:tweets","public","discussed","badge",3],["wikipedia:mentions","public","cited","badge",1]],function(metric){ return[metric[0],_.object(metricInfoKeys,metric)]}))
this.metricInfo=metricInfo
this.itemView=itemView
if(itemData.hasOwnProperty("_id")){this.dict=this.processDict(itemData)}
else{this.dict=false
this.itemId=itemData}} 
this.developing_countries="Afghanistan|Albania|Algeria|Angola|Antigua and Barbuda|Argentina|Armenia|Azerbaijan|Bahamas|Bahrain|Bangladesh|Barbados|Belarus|Belize|Benin|Bhutan|Bolivia|Bosnia and Herzegovina|Botswana|Brazil|Brunei|Bulgaria|Burkina Faso|Burma|Burundi|Cambodia|Cameroon|Cape Verde|Central African Republic|Chad|Chile|China|Colombia|Comoros|Cuba|Democratic Republic of the Congo|Republic of the Congo|Costa Rica|C\u00F4te d Ivoire|Croatia|Djibouti|Dominica|Dominican Republic|Ecuador|Egypt|El Salvador|Equatorial Guinea|Eritrea|Ethiopia|Fiji|Gabon|The Gambia|Georgia|Ghana|Grenada|Guatemala|Guinea|Guinea-Bissau|Guyana|Haiti|Honduras|Hungary|India|Indonesia|Iran|Iraq|Jamaica|Jordan|Kazakhstan|Kenya|Kiribati|Kuwait|Kyrgyzstan|Laos|Latvia|Lebanon|Lesotho|Liberia|Libya|Lithuania|Macedonia|Madagascar|Malawi|Malaysia|Maldives|Mali|Marshall Islands|Mauritania|Mauritius|Mexico|Federated States of Micronesia|Moldova|Mongolia|Montenegro|Morocco|Mozambique|Namibia|Nauru|Nepal|Nicaragua|Niger|Nigeria|North Korea|Oman|Pakistan|Palau|Panama|Papua New Guinea|Paraguay|Peru|Philippines|Poland|Qatar|Romania|Russia|Rwanda|Saint Kitts and Nevis|Saint Lucia|Saint Vincent and the Grenadines|Samoa|S\u00E3o Tom\u00E9 and Pr\u00EDncipe|Saudi Arabia|Senegal|Serbia|Seychelles|Sierra Leone|Solomon Islands|Somalia|South Africa|South Sudan|Sri Lanka|Sudan|Suriname|Swaziland|Syria|Tajikistan|Tanzania|Thailand|Timor-Leste|Togo|Tonga|Trinidad and Tobago|Tunisia|Turkey|Turkmenistan|Tuvalu|Uganda|Ukraine|United Arab Emirates|Uruguay|Uzbekistan|Vanuatu|Venezuela|Vietnam|Yemen|Zambia|Zimbabwe"
this.render=function(){return this.itemView.render(this.dict)}
this.addMetricsInfoDataToMetrics=function(metrics){var metricInfo=this.metricInfo
_.map(metrics,function(metric,metricName){_.extend(metric,metricInfo[metricName])})
return metrics}
this.get_mendeley_percent=function(metricDict,key_substring){if(metricDict==undefined){return 0}
var re=new RegExp(key_substring,'i');mendeleyRelevantKeys=metricDict.values.raw.filter(function(x){return x["name"].match(re)})
if(typeof mendeleyRelevantKeys[0]=="undefined"){ return(0)} 
mendeleyPercentages=mendeleyRelevantKeys.map(function(x){return x["value"]})
if(typeof mendeleyPercentages[0]=="undefined"){return(0)}
sum=eval(mendeleyPercentages.join("+")) 
return(sum)}
this.mendeley_reader_subset_count=function(metricsDict,subset_type){ if(typeof metricsDict["mendeley:readers"]=="undefined"){ return(0)}
if(subset_type=="student"){percent=this.get_mendeley_percent(metricsDict["mendeley:career_stage"],"student")}
if(subset_type=="developing_countries"){percent=this.get_mendeley_percent(metricsDict["mendeley:country"],this.developing_countries)}
total_mendeley_readers=metricsDict["mendeley:readers"].values.raw 
total=Math.round(total_mendeley_readers*percent/100)
return(total)}
this.update_metric=function(metric,display_name,value){metric["static_meta"]["display_name"]=display_name
metric["values"]={}
metric["values"]['raw']=value
return(metric)}
this.add_derived_metrics=function(metricsDict){ var total=this.mendeley_reader_subset_count(metricsDict,"student")
if(total>0){var templateMetric=$.extend(true,{},metricsDict["mendeley:readers"])
var newMetric=this.update_metric(templateMetric,"readers: students",total)
metricsDict["mendeley:student_readers"]=newMetric} 
var total=this.mendeley_reader_subset_count(metricsDict,"developing_countries")
if(total>0){var templateMetric=$.extend(true,[],metricsDict["mendeley:readers"])
var newMetric=this.update_metric(templateMetric,"readers: developing countries",total)
metricsDict["mendeley:developing_countries"]=newMetric}
return(metricsDict)}
this.getMetricPercentiles=function(metricsDict){for(var metricName in metricsDict){for(var normRefSetName in metricsDict[metricName].values){if(normRefSetName.indexOf("raw")==-1){metricsDict[metricName].percentiles=metricsDict[metricName].values[normRefSetName]
metricsDict[metricName].topPercent=100-metricsDict[metricName].percentiles.CI95_lower}}}
return metricsDict}
this.expandMetricMetadta=function(metrics,year){var interactionDisplayNames={"f1000":"recommendations","pmc_citations":"citations","html_views":"html views","pdf_views":"pdf views"}
_.map(metrics,function(metric){metric.displayCount=metric.values.raw
metric.actualCount=(metric.values.raw=="Yes")?1:metric.values.raw
var plural=metric.actualCount>1
metric.environment=metric.static_meta.provider
var interaction=metric.name.split(":")[1]
if(interactionDisplayNames[interaction]){interaction=interactionDisplayNames[interaction]}
metric.displayInteraction=(plural)?interaction:interaction.slice(0,-1) 
metric.referenceSetYear=year})
return metrics}
this.processDict=function(dict){console.log(dict)
dict.metrics=this.addMetricsInfoDataToMetrics(dict.metrics)
dict.metrics=this.expandMetricMetadta(dict.metrics,dict.biblio.year)
dict.metrics=this.getMetricPercentiles(dict.metrics)
dict.awards=new this.makeAwardsList(dict.metrics)
return dict}
this.get=function(apiRoot,apiKey,successCallback,updatingCallback,noItemCallback){var thisThing=this
var id=this.itemId
var registerParam=(noItemCallback)?"":"&register=true" var url="http://"+apiRoot+"/v1/item/"+id[0]+'/'+id[1]+'?key='+apiKey+registerParam
var logIfFailedRegistration=function(data){if(registerParam){if(data.is_registered==false){console.log("Automatic registration failed for "+id[0]+':'+id[1]+": quota reached for api key '"+apiKey+"'. Contact team@impactstory.org to remedy.")}}}
$.ajax({url:url,type:"GET",dataType:"json",contentType:"application/json; charset=utf-8",statusCode:{200:function(data){dict=thisThing.processDict(data)
thisThing.dict=dict
successCallback(dict,id)
logIfFailedRegistration(data)},210:function(data){updatingCallback(data)
logIfFailedRegistration(data)},403:function(data){console.log("Invalid api key '"+apiKey+"'. Contact team@impactstory.org to remedy.")
if(noItemCallback){noItemCallback(data)}},404:function(data){if(noItemCallback){noItemCallback(data)}}}});}
this.create=function(apiRoot,successCallback,errorCallback){var apiKey="embed" var thisThing=this
var id=this.itemId}
this.init(itemData,itemView)
return true}
function ItemView($){this.sortByMetricValueDesc=function(metric1,metric2){if(typeof metric1.value!="number")
return 1
if(typeof metric2.value!="number")
return-1
if(metric1.value<metric2.value)
return 1;if(metric1.value>metric2.value)
return-1;return 0;}
this.renderBiblio=function(biblio,url){var html=""
biblio.url=url
biblio.title=biblio.title||"no title"
if(biblio.create_date){biblio.year=biblio.create_date.slice(0,4)}
if(biblio.authors){ var auths=biblio.authors.split(",",3).join(",") 
if(auths.length<biblio.authors.length)auths+=" et al."
biblio.authors=auths}
var templateName="biblio_"+biblio.genre
return $(ich[templateName](biblio,true))}
this.findBarLabelOffsets=function(start,end){var minWidth=27
if(end==100){minWidth=32}
var width=end-start
if(width<minWidth){var widthToAdd=width-minWidth
var offset=widthToAdd/2}
else{var offset=0}
return offset}
this.findBarMargins=function(CIstart,CIend){var minWidth=7
var leftMargin=CIstart
var rightMargin=100-CIend
var amountLessThanMinWidth=minWidth-(CIend-CIstart)
if(amountLessThanMinWidth>0){leftMargin-=amountLessThanMinWidth/2
rightMargin-=amountLessThanMinWidth/2}
return[leftMargin,rightMargin]}
this.renderZoom=function(awards){ var engagementTable={}
engagementTable.audiences=_.chain(awards).groupBy("audience").map(function(awards,audienceName){return{audience:audienceName,cells:awards}}).sortBy(function(x){return x.audience}).reverse().value()
var zoom$=$(ich.zoomTable(engagementTable,true))
var thisThing=this
zoom$.find("div.metric-perc-range.ci").each(function(){var ciStartValue=$(this).find("span.endpoint.start span.value").text()
var ciEndValue=$(this).find("span.endpoint.end span.value").text()
var offset=thisThing.findBarLabelOffsets(ciStartValue,ciEndValue)
var margins=thisThing.findBarMargins(ciStartValue,ciEndValue)
$(this).css({"margin-left":margins[0]+"%","margin-right":margins[1]+"%"}).find("span.endpoint.start").css("left",offset+"px").end().find("span.endpoint.end").css("right",offset+"px")})
zoom$.find("ul.metrics div.meta img").tooltip()
zoom$.find("ul.metrics div.metric-perc-range").tooltip()
return zoom$}
this.renderBadges=function(awards){var awardsForRendering=_(awards).groupBy("isHighly")
var badges$=$(ich.badges({big:awardsForRendering["true"],any:awardsForRendering["false"]}),true)
badges$.find(".ti-badge").tooltip()
return badges$}
this.render=function(item){var item$=ich.displayItem(item)
var url=(item.aliases.url)?item.aliases.url[0]:false
var biblio$=this.renderBiblio(item.biblio,url)
item$.find("div.biblio").append(biblio$)
var zoom$=this.renderZoom(item.awards,true)
item$.find("div.zoom").append(zoom$)
var badges$=this.renderBadges(item.awards)
item$.find("div.badges").append(badges$)
return item$}}
function ItemController($){this.itemReportPageInit=function(){ $("#update-report-button").remove()
$("#csv-report-button").remove()
$("#num-items").remove()
var myView=new ItemView($)
var myItem=new Item([reportIdNamespace,reportId],myView,$)
myItem.get(api_root,"item-report-page",this.insertRenderedItemIntoPage,function(data){console.log("still updating item report page")},function(data){alert("Sorry, this item isn't in our database yet.")})}
this.insertRenderedItemIntoPage=function(data){var myView=new ItemView($)
var renderedItem$=myView.render(data)
renderedItem$.find("div.zoom").show()
$("<div class='genre'></div>").append(renderedItem$).appendTo("#metrics div.wrapper")}
var body$=$("body")
body$.on("click","div.item-header.zoomable",function(e){if($(e.target).hasClass("help-text")){console.log("help-text")
return true}
$(this).parents("li.item").find("div.zoom").slideToggle(500,function(){$(this).parents("li.item").toggleClass("zoomed")})
return false})
body$.on("click","a.item-help",function(){$("#context").modal("show")
return false;})}
var ajaxLoadImg="<img class='loading' src='../static/img/ajax-loader.gif' alt='loading...' />";function User(userViews){this.userViews=userViews; this.create=function(){this.userdata({colls:{}})} 
this.userdata=function(toSave){if(toSave){return $.cookie("userdata",JSON.stringify(toSave))}
else{return JSON.parse($.cookie("userdata"))}}
this.userkey=function(toSave){if(toSave){return $.cookie("userkey",JSON.stringify(toSave))}
else{return JSON.parse($.cookie("userkey"))}}
this.hasCreds=function(){if(this.userdata()){if(this.userdata()._id!="undefined"&&this.userkey()!=null){return true}}
return false} 
this.addColl=function(cid,updateKey){u=this.userdata()
u.colls[cid]=updateKey
return this.userdata(u)}
this.clearCreds=function(){u=this.userdata()
delete u._id
this.userdata(u)
$.removeCookie("userkey")}
this.setCreds=function(username,pw){u=this.userdata()
u._id=username
this.userdata(u)
this.userkey(CryptoJS.HmacSHA1(pw,"a8d9e12a2903eecf554").toString())}
this.removeColl=function(cid){u=this.userdata()
delete u.colls[cid]
return true} 
this.deleteLocal=function(){$.removeCookie("userdata")
$.removeCookie("userkey")
this.create()
this.userViews.logout()}
this.syncWithServer=function(method,callbacks){if(!this.hasCreds()){return false;}
if(typeof callbacks=="undefined")callbacks={}
if(method=="push"){var httpMethod="PUT"
var url="http://"+api_root+"/user"
u=this.userdata()
u.key=this.userkey()
var bodyString=JSON.stringify(u)}
else if(method=="pull"){var bodyString="key="+this.userkey()
var httpMethod="GET"
var url="http://"+api_root+"/user/"+this.userdata()._id}
var userViews=this.userViews
var thisThing=this
$.ajax({url:url,type:httpMethod,data:bodyString,dataType:"json",contentType:"application/json; charset=utf-8",statusCode:{200:function(data){userViews.login(data._id)
thisThing.userdata(data)
if(typeof callbacks.on200!=="undefined")callbacks.on200()},403:function(data){userViews.registerFail(data)
thisThing.clearCreds()
if(typeof callbacks.on403!=="undefined")callbacks.on403()},404:function(data){thisThing.clearCreds()
userViews.registerFail(data)
if(typeof callbacks.on404!=="undefined")callbacks.on404()},500:function(data){console.log("wo, server error.")}}})}
this.getCollInfo=function(){var cids=[]
for(cid in this.userdata()["colls"]){cids.push(cid)}
if(cids.length){this.userViews.startShowColls()}
var cidsString=cids.join(",")
var thisThing=this
$.ajax({url:"http://"+api_root+"/collections/"+cidsString,type:"GET",dataType:"json",contentType:"application/json; charset=utf-8",statusCode:{404:function(data){console.log("that broke. probably oughta have some error handling.")},200:function(data){thisThing.userViews.showColls(data)}}})}
this.checkUsername=function(username,successCallback,failCallback){$.ajax({url:"http://"+api_root+"/user/"+username,type:"GET",statusCode:{403:function(data){failCallback()},404:function(data){successCallback()}}})}
if(this.hasCreds()){this.userViews.login(this.userdata()._id)
this.syncWithServer("pull")
this.create()}
else if(this.userdata()){}
else{this.create()}
return true}
function UserViews(){this.loginFail=function(data){console.log("login fail!")}
this.login=function(username){$("#register-link, #login-link").hide().siblings("li#logged-in").show().find("span.username").html(username+"!")
$("li.loading").remove()
$("#inline-register").remove()
console.log("logged in!")}
this.finishRegistration=function(){console.log("finished registration")
_gaq.push(['_trackPageview','/user/created']);}
this.startRegistration=function(){$("#register-link, #login-link").hide()
$("li#acct-mgt ul").append("<li class='loading'>"+ajaxLoadImg+"</li>")}
this.registerFail=function(data){console.log("oh noes, registration fail!")}
this.logout=function(){$("#register-link, #login-link").show().siblings("li#logged-in").hide()
console.log("logged out.")}
this.startShowColls=function(){$("#logged-in div.dropdown-menu").empty().append("<h3>Collections:</h3>").append(ajaxLoadImg)}
this.showColls=function(titles){$("div.dropdown-menu img.loading").remove()
var collsList$=$("<ul></ul>")
var hasColls=false
for(cid in titles){var collLink='<a href="/collection/'+cid+'">'+titles[cid]+'</a>'
collsList$.append("<li>"+collLink+"</li>")
hasColls=true}
if(hasColls){$("#logged-in div.dropdown-menu").append(collsList$)}}
this.userNameExists=function(){$("input.username.register").parents("div.control-group").addClass("error").removeClass("success").find("span.help-inline").html("sorry, that email's taken.")}
this.userNameValid=function(){$("input.username.register").parents("div.control-group").addClass("success").removeClass("error").find("span.help-inline").html("looks good!")}
return true}
function UserController(user,userViews){this.user=user;this.userViews=userViews;this.init=function(){user=this.user
userViews=this.userViews
$(".acct-mgt form").submit(function(){userViews.startRegistration()
var email=$(this).find("input.username").val()
var pw=$(this).find("input.pw").val()
user.setCreds(email,pw)
var method=$(this).hasClass("register")?"push":"pull"
user.syncWithServer(method)
userViews.finishRegistration();return false;})
$("#logout-link").click(function(){user.deleteLocal();return false;})
$("li#logged-in span.username").on("click",function(){user.getCollInfo()
$("#logged-in div.dropdown-menu a#logged-in").attr("data-toggle","dropdown").click();})
$("input.username.register").blur(function(){if(!$(this).val())return true
$(this).siblings("span.help-inline").empty().append(ajaxLoadImg)
user.checkUsername($(this).val(),userViews.userNameValid,userViews.userNameExists)})}
return true}
function Genre(name){this.name=name
this.items=[]
this.render=function(){var genre$=$(ich.genreTemplate({name:this.name},true))
var renderedItems=[]
var itemsWithoutActivity=[]
for(var i=0;i<this.items.length;i++){var thisItem=this.items[i]
if(thisItem.dict.awards.length){renderedItems.push(thisItem.render())}
else{itemsWithoutActivity.push(thisItem.render())}}
genre$.find("ul.items.active").append(renderedItems)
genre$.find("ul.items.inactive").append(itemsWithoutActivity)
if(itemsWithoutActivity.length){genre$.find("h4.plus-more").toggle(function(){$(this).addClass("showing").siblings("ul.items.inactive").slideDown()
$(this).find("span.show-hide").html("(hide)")},function(){$(this).removeClass("showing").siblings("ul.items.inactive").slideUp()
$(this).find("span.show-hide").html("(show)")}).find("span.value").html(itemsWithoutActivity.length)}
else{genre$.find("h4.plus-more").hide()}
return genre$}
return true}
function GenreList(items){this.genres={} 
for(var i=0;i<items.length;i++){var genreName=items[i].dict.biblio.genre
if(!this.genres[genreName]){this.genres[genreName]=new Genre(genreName)}
this.genres[genreName].items.push(items[i])}
this.render=function(){var genres=[]
for(var thisGenreName in this.genres){var renderedGenre=this.genres[thisGenreName].render()
genres.push(renderedGenre)}
$("div.genre").remove()
$("div.tooltip").remove() 
$("#metrics div.wrapper").append(genres)}}
function Coll(collViews,user){this.views=collViews;this.user=user
this.id=null
this.items={}
this.addItems=function(newItemDicts){for(var i=0;i<newItemDicts.length;i++){tiid=newItemDicts[i]["_id"]
this.items[tiid]=new Item(newItemDicts[i],new ItemView($),$)}}
this.update=function(){var thisThing=this
this.views.startUpdating()
$.ajax({url:"http://"+api_root+'/v1/collection/'+this.id+'?key='+api_key,type:"POST",success:function(data){console.log("updating.")
thisThing.get(1000);}});}
this.get=function(interval,tries){if(tries===undefined){var tries=0}
var thisThing=this
this.views.startUpdating()
$.ajax({url:"http://"+api_root+'/v1/collection/'+thisThing.id+'?key='+api_key,type:"GET",dataType:"json",contentType:"application/json; charset=utf-8",statusCode:{210:function(data){console.log("still updating")
thisThing.addItems(data.items)
thisThing.views.render(thisThing.items)
if(tries>120){thisThing.render(data.items)
console.log("failed to finish update; giving up after 1min.")}
else{setTimeout(function(){thisThing.get(interval,tries+1)},500)}},200:function(data){console.log("done with updating")
thisThing.addItems(data.items)
thisThing.views.render(thisThing.items)
thisThing.views.finishUpdating(data.items)
return false;}}});}}
function CollViews(){this.startUpdating=function(){$("img.loading").remove()
$("h2").before(ajaxLoadImg)}
this.badgesWeight=function(dict){return _.reduce(dict.awards,function(memo,metric){return memo+(metric.isHighly)?10:1},0)}
this.finishUpdating=function(items){ $("#page-header img").remove()
$("#num-items span.value").text(items.length) 
$("ul.active li.item div.item-header").addClass("zoomable")
$("span.item-expand-button").show().css({color:tiLinkColor}).fadeOut(1500,function(){$(this).removeAttr("style")})}
this.render=function(itemObjsDict){var thisNow=this 
var itemObjs=[]
for(tiid in itemObjsDict){itemObjs.push(itemObjsDict[tiid])}
itemObjs.sort(function(a,b){return thisNow.badgesWeight(b.dict)-thisNow.badgesWeight(a.dict)})
var genreList=new GenreList(itemObjs)
genreList.render()}}
function CollController(coll,collViews){this.collReportPageInit=function(){coll.id=reportId
coll.get(1000)} 
$("#update-report-button").click(function(){coll.update();return false;})
$("div#num-items a").toggle(function(){$(this).html("(collapse all)")
$("li.item").addClass("zoomed").find("div.zoom").show()},function(){$(this).html("(expand all)")
$("li.item").removeClass("zoomed").find("div.zoom").hide()})}
$.ajaxSetup({cache:false});$.support.cors=true;if(!window.console){console={log:function(){}};}
var tiLinkColor="#FF4E00"
var ajaxLoadImg="<img class='loading' src='../static/img/ajax-loader.gif' alt='loading...' />";var ajaxLoadImgTransparent="<img class='loading' src='../static/img/ajax-loader-transparent.gif' alt='loading...' />";var collectionAliases=[]
var currentUserInputValue=""
var currentlyUpdating=false
exampleStrings={paste_input:"10.1038/171737a0\n13054692",paste_webpages:"http://www.example.com\nhttp://www.zombo.com",crossref_input:"Watson : A Structure for Deoxyribose Nucleic Acid",name:"My Collection"}
inputExamplesIClickHandler=function(thisInput){}
flatten=function(idsArr){var aliases=[];numIds=idsArr.length;for(var i=0;i<numIds;i++){var id=idsArr[i][1]
var namespace=idsArr[i][0]
if(Object.prototype.toString.call(id)==='[object Array]'){var strVal=id.join(",")}
else{var strVal=id}
aliases.push([namespace,strVal])}
return(aliases)}
addCollectionIds=function(idsArr,updateInfoLoc$,itemsAddedMsg$,showZeros){if(itemsAddedMsg$===undefined){var itemsAddedMsg$=$("<span class='items-added-msg'>items added</span>")}
var startingCollectionLength=collectionAliases.length
var newIds=flatten(idsArr); var uniqueNamespaceIdPairs={}
for(var i=0;i<collectionAliases.length;i++){var namespaceIdPair=collectionAliases[i].join(":")
uniqueNamespaceIdPairs[namespaceIdPair]=1}
console.log(uniqueNamespaceIdPairs)
for(var i=0;i<newIds.length;i++){var newNamespaceIdPair=newIds[i].join(":")
if(!uniqueNamespaceIdPairs[newNamespaceIdPair]){collectionAliases.push(newIds[i])}}
$("div.progressbar").empty()
$("span.loading").remove()
var endingCollectionLength=collectionAliases.length;numIdsAdded=endingCollectionLength-startingCollectionLength;$("#artcounter span.count").html(endingCollectionLength);if(numIdsAdded||showZeros){updateInfoLoc$.siblings("span.added").remove()
$("<span class='added'><span class='count'>"+numIdsAdded+"</span></span>").append(itemsAddedMsg$).insertAfter(updateInfoLoc$)
updateInfoLoc$.siblings("span.added").find("span.count").css({color:"#ff4e00"}).animate({color:"#555555"},1500)}
return true;}
parseTextareaArtifacts=function(str){var ids=str.split("\n");var ret=[];for(i=0;i<ids.length;i++){var artifact=[];var thisId=ids[i];if(thisId.indexOf(":")!=-1){artifact[0]=thisId.split(':')[0]; artifact[1]=thisId.substr(artifact[0].length+1)
if((artifact[0]=="http")||(artifact[0]=="https")){if(thisId.indexOf("http://dx.doi.org/")!=-1){artifact[0]="doi";artifact[1]=thisId.replace("http://dx.doi.org/","");}else{artifact[0]="url";artifact[1]=thisId;}}}
else{if(thisId.length>0){var isnum_with_possible_period=/^[\d\.]+$/.test(thisId) 
if(thisId.substring(0,3)=="10."){artifact[0]="doi"}else if(isnum_with_possible_period&&(thisId.length>5)&&(thisId.length<=8)){ artifact[0]="pmid"}
else{artifact[0]="unknown"}
artifact[1]=thisId}}
if(typeof artifact[1]!="undefined"){ret.push(artifact);}}
return ret;}
progressbar=function(total,done,loc$){percentDone=Math.round(done/total*100)
loc$.html(percentDone+"% done...")}
bibtexUploadDone=function(numItemsTotal,aliases){var numFailedItems=numItemsTotal-aliases.length
var msg$=$(ich.bibtexUploadDoneMsg({numFailedItems:numFailedItems}))
msg$.find("a.help-text").clickover()
addCollectionIds(aliases,$("div.fileupload"),msg$,true)}
update_bibtex_progress=function(query_hash){$.ajax({url:"http://"+api_root+"/provider/bibtex/memberitems/"+query_hash+"?method=async",type:"GET",dataType:"json",success:function(response,status,xhr){console.log("searched using query_hash "+query_hash)
console.log(response)
if(response.pages==response.complete){aliases=[]
for(i=0;i<response.memberitems.length;i++){var aliases=aliases.concat(response.memberitems[i])}
bibtexUploadDone(response.number_entries,aliases)}
else{progressbar(response.pages,response.complete,$("#bibtex_toggler_contents div.progressbar"))
setTimeout(function(){update_bibtex_progress(query_hash)},500)}},error:function(XMLHttpRequest,textStatus,errorThrown){$("span.loading").remove()
$("div.fileupload span.added").remove()
$("div.fileupload").append("<span class='added'><span class='sorry'>sorry, there was an error.</span></span>")}});}
upload_bibtex=function(files){var fileInput=$("li #input_bibtex")[0];var file=fileInput.files[0];var formData=new FormData();formData.append('file',file);$("span.btn-file").remove()
$("<span class='loading'>"+ajaxLoadImg+"<span>").insertBefore("div.fileupload div.progressbar");console.log("starting ajax request now.")
progressbar(1,0,$("#bibtex_toggler_contents div.progressbar"))
$.ajax({url:"http://"+api_root+'/provider/bibtex/memberitems',type:"POST",processData:false,contentType:false,timeout:120*1000, data:formData,dataType:"json",success:function(response,status,xhr){query_hash=response.query_hash
console.log("started update request; got this query_hash back: "+query_hash)
update_bibtex_progress(query_hash)},error:function(XMLHttpRequest,textStatus,errorThrown){$("span.loading").remove()
$("div.fileupload span.added").remove()
$("div.fileupload").append("<span class='added'><span class='sorry'>sorry, there was an error.</span></span>")}});}
createCollectionInit=function(){$("#google-scholar-help-link").click(function(){$("#google-scholar-help").modal("show")
return false})
$("#orcid-help-link").click(function(){$("#orcid-help").modal("show")
return false})
$("#bibtex-fail-help a").click(function(){$(".modal").modal("hide")
if($(this).hasClass("uservoice")){UserVoice.showPopupWidget()}})
$("li textarea, input#name").each(function(){$(this).val(exampleStrings[this.id])})
$("div.toggler_contents input, ul#manual-add textarea, input#name").focus(function(){currentUserInputValue=$(this).val();$(this).removeClass("no-input-yet")
if(currentUserInputValue==exampleStrings[this.id]){$(this).val("")}}).blur(function(){$this=$(this)
if($this.val()==""){$this.addClass("no-input-yet")
$this.val(exampleStrings[this.id])
return false;}
else if($this.val()==currentUserInputValue){return false;}
if($this.hasClass("artifactList")){newIds=parseTextareaArtifacts($(this).val()); newIds=newIds.slice(0,100)
addCollectionIds(newIds,$(this))}
else if($this.attr("id")=="name"){}
else{var idStrParts=$(this).attr("id").split('_');var providerName=idStrParts[0];if(providerName=="crossref"){ var providerTypeQuery="&type=import"
var pipeVal=$this.val().replace(":","|");var providerIdQuery=escape(pipeVal);}else{var providerIdQuery=escape($this.val());}
$(this).siblings("span.added").remove()
$(this).not("input#name").after("<span class='loading'>"+ajaxLoadImg+"<span>");console.log("running memberitems")
$.ajax({url:"http://"+api_root+"/provider/"+providerName+"/memberitems/"+providerIdQuery+"?method=sync",type:"GET",dataType:"json",success:function(response,status,xhr){addCollectionIds(response.memberitems,$this)},error:function(XMLHttpRequest,textStatus,errorThrown){$("span.loading").remove()
$this.siblings("span.added").remove()
var explainString;if(XMLHttpRequest.status==404){explainString="sorry, not found. (ORCID imports are failing for new records, we're working to fix)"}else{explainString="sorry, there was an error."}
$this.after("<span class='added'><span class='sorry'>"+explainString+"</span></span>")}});}}) 
$("#id-form").submit(function(){ if(collectionAliases.length==0){alert("Looks like you haven't added any research objects to the collection yet.")
return false;}else{console.log("adding collection with new items.")
$("#go-button").replaceWith("<span class='loading'>"+ajaxLoadImg+"<span>")
var requestObj={title:$('#name').val(),aliases:collectionAliases}
$.ajax({url:"http://"+api_root+'/v1/collection?key='+api_key,type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify(requestObj),success:function(ret){returnedCollection=ret.collection 
user.addColl(returnedCollection._id,ret.key)
var email=$("#inline-register-email").val()
var pw=$("#inline-register-pw").val()
if(email&&pw){user.setCreds(email,pw)}
var success=function(){_gaq.push(['_trackPageview','/user/created']);location.href="/collection/"+returnedCollection._id}
if(user.hasCreds()){user.syncWithServer("push",{on200:success})}
else{success()}}});return false;}});}
function homePageInit(){$('.carousel').carousel()
$('.carousel').carousel("cycle")}
function aboutPageInit(){if(location.href.indexOf("#contact")>0){$("#contact h3").css("color",tiLinkColor).siblings("p").css({backgroundColor:"#ff834c"}).animate({backgroundColor:"#ffffff"},1000)}}
$(document).ready(function(){$.cookie.defaults={path:"/",raw:1}
userViews=new UserViews()
user=new User(userViews)
userController=new UserController(user,userViews);userController.init()
collViews=new CollViews()
coll=new Coll(collViews)
collController=new CollController(coll,collViews);itemController=new ItemController($) 
if(typeof reportIdNamespace=="undefined"){}
else if(reportIdNamespace=="impactstory_collection_id"){collController.collReportPageInit()}
else{ itemController.itemReportPageInit()} 
if($("#toc")[0]){$('#toc').tocBuilder({type:'headings',startLevel:3,endLevel:3,insertBackLinks:0});}
createCollectionInit();homePageInit()
aboutPageInit() 
if(window.location.href.indexOf('#context')!=-1){$('#context').modal('show');}
prettyPrint()});var _gaq=_gaq||[];_gaq.push(['_setAccount','UA-23384030-1']);_gaq.push(['_trackPageview']);(function(){var ga=document.createElement('script');ga.type='text/javascript';ga.async=true;ga.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga,s);})();(function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"===e.location.protocol?"https:":"http:")+'//cdn.mxpnl.com/libs/mixpanel-2.2.min.js';f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f);b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.increment".split(" ");for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2}})(document,window.mixpanel||[]);